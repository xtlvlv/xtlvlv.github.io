<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.2.0">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/head.jpeg">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css">
  <script src="/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"xtlvlv.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":true,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":2,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="置顶 本书用到java，把每个设计模式都用C++实现了一遍，项目地址为：github 真.受益匪浅">
<meta property="og:type" content="article">
<meta property="og:title" content="《head first设计模式》">
<meta property="og:url" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/index.html">
<meta property="og:site_name" content="不知自己不知">
<meta property="og:description" content="置顶 本书用到java，把每个设计模式都用C++实现了一遍，项目地址为：github 真.受益匪浅">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/simple_duck.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/%E6%8D%A2%E6%AD%A6%E5%99%A8%E9%A2%98.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/%E6%8D%A2%E6%AD%A6%E5%99%A8%E8%A7%A3%E7%AD%94.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/%E6%B0%94%E8%B1%A1%E7%9B%91%E6%B5%8B%E5%BA%94%E7%94%A8%E7%9A%84%E6%A6%82%E5%86%B5.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/%E4%B8%80%E4%B8%AA%E9%94%99%E8%AF%AF%E7%A4%BA%E8%8C%83.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F%E7%AD%94%E6%A1%88.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F%E7%B1%BB%E5%9B%BE.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/%E6%B0%94%E8%B1%A1%E7%AB%99%E7%B1%BB%E5%9B%BE.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/1.%E4%BB%A5%E8%A3%85%E9%A5%B0%E8%80%85%E6%9E%84%E9%80%A0%E9%A5%AE%E6%96%99%E8%AE%A2%E5%8D%951.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/2.%E4%BB%A5%E8%A3%85%E9%A5%B0%E8%80%85%E6%9E%84%E9%80%A0%E9%A5%AE%E6%96%99%E8%AE%A2%E5%8D%952.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/3.%E8%A3%85%E9%A5%B0%E8%80%85%E6%A8%A1%E5%BC%8F%E7%B1%BB%E5%9B%BE.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/4.%E8%A3%85%E9%A5%B0%E6%88%91%E4%BB%AC%E7%9A%84%E9%A5%AE%E6%96%99.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/5.%E8%A3%85%E9%A5%B0%E8%80%85%E4%BE%8B%E5%AD%90.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/6.%E8%A3%85%E9%A5%B0javaio%E7%B1%BB.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/7.%E8%87%AA%E5%B7%B1%E7%9A%84javaio%E8%A3%85%E9%A5%B0%E8%80%85.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/8.javaio%E8%A3%85%E9%A5%B0%E8%80%85%E6%B5%8B%E8%AF%95.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/9.%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/10.%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%E5%88%9B%E5%BB%BA%E8%80%85%E7%B1%BB.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/11.%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%E4%BA%A7%E5%93%81%E7%B1%BB.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/12.%E5%B9%B3%E8%A1%8C%E7%9A%84%E7%B1%BB%E5%B1%82%E7%BA%A7.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/13.%E5%B7%A5%E5%8E%82%E7%B1%BB%E5%9B%BE.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/18.%E9%AB%98%E4%BE%9D%E8%B5%96%E6%80%A7%E6%8A%AB%E8%90%A8.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/19.%E5%BA%94%E7%94%A8%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E5%90%8E%E7%9A%84%E4%BE%9D%E8%B5%96%E5%85%B3%E7%B3%BB%E5%9B%BE.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/14.%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82%E7%B1%BB%E5%9B%BE.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/15.%E4%BB%8EPizzaStore%E6%9D%A5%E7%9C%8B%E7%B1%BB%E5%9B%BE.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/16.%E6%AF%94%E8%BE%83%E5%B7%A5%E5%8E%82%E5%92%8C%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/17.%E6%AF%94%E8%BE%83%E5%B7%A5%E5%8E%82%E5%92%8C%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%822.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/20.%E7%AE%80%E5%8D%95%E5%8D%95%E5%AE%9E%E4%BE%8B.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/21.%E6%80%A5%E5%88%87%E5%88%9B%E5%BB%BA%E5%AE%9E%E4%BE%8B.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/22.%E5%8F%8C%E9%87%8D%E5%8A%A0%E9%94%81.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/24.%E9%A4%90%E5%8E%85%E4%BA%A4%E4%BA%92%E8%BF%87%E7%A8%8B.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/25.%E9%A4%90%E5%8E%85%E7%9A%84%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/26.%E9%A4%90%E5%8E%85%E8%A7%92%E8%89%B2.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/27.%E5%AE%9E%E7%8E%B0%E5%91%BD%E4%BB%A4%E6%8E%A5%E5%8F%A3.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/28.%E7%94%B5%E7%81%AF%E6%89%93%E5%BC%80%E5%91%BD%E4%BB%A4.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/29.%E6%8E%A7%E5%88%B6%E5%99%A8%E4%B8%AD%E4%BD%BF%E7%94%A8%E5%91%BD%E4%BB%A4%E5%AF%B9%E8%B1%A1.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/30.%E6%8E%A7%E5%88%B6%E5%99%A8%E6%B5%8B%E8%AF%95.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/23.%E5%91%BD%E4%BB%A4%E8%80%85%E6%A8%A1%E5%BC%8F%E7%B1%BB%E5%9B%BE.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/31.%E9%81%A5%E6%8E%A7%E5%99%A8%E6%8F%92%E6%A7%BD.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/32.%E5%AE%9E%E7%8E%B0%E9%81%A5%E6%8E%A7%E5%99%A8.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/33.%E6%89%93%E5%BC%80%E9%9F%B3%E5%93%8D%E5%91%BD%E4%BB%A4.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/34.%E6%B5%8B%E8%AF%95%E9%81%A5%E6%8E%A7%E5%99%A8%E7%B1%BB.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/35.%E6%B5%8B%E8%AF%95%E9%81%A5%E6%8E%A7%E5%99%A8%E7%B1%BB2.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/36.%E4%B8%8D%E5%81%9A%E4%BA%8B%E5%91%BD%E4%BB%A4.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/37.%E9%81%A5%E6%8E%A7%E5%99%A8API.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/38.%E6%92%A4%E9%94%801.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/39.%E6%92%A4%E9%94%802.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/40.%E6%92%A4%E9%94%803.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/41.%E6%97%A5%E5%BF%97.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/42.%E6%97%A5%E5%BF%97%E6%81%A2%E5%A4%8D.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/43.%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%80%82%E9%85%8D%E5%99%A8.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/45.%E9%B8%AD%E5%AD%90%E6%8E%A5%E5%8F%A3.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/46.%E7%81%AB%E9%B8%A1.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/47.%E6%B5%8B%E8%AF%95.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/44.%E9%80%82%E9%85%8D%E5%99%A8%E8%A7%A3%E6%9E%90.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/48.%E9%80%82%E9%85%8D%E5%99%A8%E7%B1%BB%E5%9B%BE.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/49.%E7%B1%BB%E9%80%82%E9%85%8D%E5%99%A8.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/50.%E9%B8%AD%E5%AD%90%E9%80%82%E9%85%8D%E5%99%A8.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/51.java%E9%80%82%E9%85%8D%E5%99%A8%E4%BE%8B%E5%AD%90.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/52.java%E7%B1%BB%E5%9B%BE.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/53.java%E9%80%82%E9%85%8D%E5%99%A8%E4%BB%A3%E7%A0%81.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/54.%E5%A4%96%E8%A7%82%E6%A8%A1%E5%BC%8F%E7%B1%BB%E5%9B%BE.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/57.%E7%94%B5%E5%BD%B1%E9%99%A2%E5%A4%96%E8%A7%82.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/56.%E5%AE%9E%E7%8E%B0%E7%AE%80%E5%8C%96%E7%9A%84%E6%8E%A5%E5%8F%A3.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/58.%E8%A7%82%E8%B5%8F%E7%94%B5%E5%BD%B1.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/55.%E6%9C%80%E5%B0%91%E7%9F%A5%E8%AF%86.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/59.%E5%B0%86%E6%96%B9%E6%B3%95%E8%B0%83%E7%94%A8%E4%BF%9D%E6%8C%81%E5%9C%A8%E7%95%8C%E9%99%90%E5%86%85.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/60.%E5%A4%96%E8%A7%82%E5%92%8C%E6%9C%80%E5%B0%91%E7%9F%A5%E8%AF%86.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/61.%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95%E7%B1%BB%E5%9B%BE.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/64.%E5%92%96%E5%95%A1%E5%9B%A0%E9%A5%AE%E6%96%99%E5%9F%BA%E7%B1%BB.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/65.%E5%92%96%E5%95%A1%E5%92%8C%E8%8C%B6%E5%AD%90%E7%B1%BB.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/62.%E9%92%A9%E5%AD%90%E7%94%A8%E6%B3%951.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/63.%E9%92%A9%E5%AD%90%E5%AD%90%E7%B1%BB.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/66.%E5%A5%BD%E8%8E%B1%E5%9D%9E%E4%BE%9D%E8%B5%96.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/67.%E5%A5%BD%E8%8E%B1%E5%9D%9E%E6%A8%A1%E6%9D%BF.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/68.swing%E9%92%A9%E5%AD%90.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/69.applet%E9%92%A9%E5%AD%90.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/70.%E8%BF%AD%E4%BB%A3%E5%99%A8%E7%B1%BB%E5%9B%BE.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/71.%E9%A4%90%E5%8E%85%E4%BE%8B%E5%AD%90.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/74.%E8%8F%9C%E5%8D%95%E6%8E%A5%E5%8F%A3%E5%92%8C%E6%9C%8D%E5%8A%A1%E5%91%98.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/72.%E5%85%B7%E4%BD%93%E8%8F%9C%E5%8D%95.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/73.%E8%BF%AD%E4%BB%A3%E5%99%A8%E4%BB%A3%E7%A0%81.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/75.%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F%E7%B1%BB%E5%9B%BE.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/76.%E7%BB%84%E5%90%88%E8%8F%9C%E5%8D%95.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/77.%E5%AE%9E%E7%8E%B0%E8%8F%9C%E5%8D%95%E7%BB%84%E4%BB%B6.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/78.%E5%AE%9E%E7%8E%B0%E8%8F%9C%E5%8D%95%E9%A1%B9.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/79.%E5%AE%9E%E7%8E%B0%E7%BB%84%E5%90%88%E8%8F%9C%E5%8D%95.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/80.%E4%BF%AE%E6%94%B9print.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/81.%E6%9C%8D%E5%8A%A1%E5%91%98.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/82.%E8%8F%9C%E5%8D%95%E7%BB%93%E6%9E%84.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/83.%E8%8F%9C%E5%8D%95%E6%B5%8B%E8%AF%95.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/84.%E6%89%A7%E8%A1%8C%E7%BB%93%E6%9E%9C.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/85.%E7%BB%84%E5%90%88%E8%BF%AD%E4%BB%A3%E5%99%A8.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/86.%E9%80%92%E5%BD%92%E8%BF%AD%E4%BB%A3%E5%99%A8.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/87.%E7%A9%BA%E8%BF%AD%E4%BB%A3%E5%99%A8.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/88.%E8%BF%94%E5%9B%9E%E7%B4%A0%E9%A3%9F%E8%8F%9C%E5%8D%95.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/89.%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E8%8F%9C%E5%8D%95.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/90.%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F%E7%B1%BB%E5%9B%BE.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/91.%E7%B3%96%E6%9E%9C%E7%8A%B6%E6%80%81%E8%BD%AC%E6%8D%A2%E5%9B%BE.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/92.%E7%8A%B6%E6%80%81%E6%8E%A5%E5%8F%A3%E5%92%8C%E7%B1%BB.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/93.%E6%9C%AA%E6%8A%95%E5%B8%81%E7%8A%B6%E6%80%81.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/94.%E7%B3%96%E6%9E%9C%E6%9C%BA%E7%B1%BB.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/95.%E5%8A%A0%E5%85%A5winner.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/96.%E5%AE%9E%E7%8E%B0winner.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/97.%E5%8A%A0%E5%85%A5%E9%9A%8F%E6%9C%BA%E6%95%B0.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/98.%E6%B5%8B%E8%AF%95.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/99.%E7%B3%96%E6%9E%9C%E6%9C%BA%E8%BF%9C%E7%A8%8B%E4%BB%A3%E7%90%86.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/101.%E7%B1%BB%E5%9B%BE.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/100.%E8%BF%9C%E7%A8%8B%E6%96%B9%E6%B3%95.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/110.RMI.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/111.%E6%AD%A5%E9%AA%A41.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/112.%E6%AD%A5%E9%AA%A42.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/113.%E6%AD%A5%E9%AA%A43.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/114.%E6%AD%A5%E9%AA%A44.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/115.%E6%AD%A5%E9%AA%A45.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/116.%E8%BF%9C%E7%A8%8B%E6%8E%A5%E5%8F%A3.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/117.%E8%BF%9C%E7%A8%8B%E5%AE%9E%E7%8E%B0.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/118.%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/102.%E8%99%9A%E6%8B%9F%E4%BB%A3%E7%90%86.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/103.CD%E5%B0%81%E9%9D%A2.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/104.%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/105.%E7%BC%96%E5%86%99img.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/106.paint.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/107.%E7%BB%86%E8%8A%82.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/108.%E6%B5%8B%E8%AF%95.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/109.%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/119.%E5%A4%8D%E5%90%88%E4%BE%8B%E5%AD%90.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/120.%E5%A4%8D%E5%90%88%E7%B1%BB%E5%9B%BE1.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/121.%E5%A4%8D%E5%90%88%E7%B1%BB%E5%9B%BE2.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/122.%E8%AE%A4%E8%AF%86MVC.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/123.MVC%E6%A8%A1%E5%BC%8F.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/124.%E8%A7%82%E5%AF%9F%E8%80%85.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/125.%E7%AD%96%E7%95%A5.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/126.%E7%BB%84%E5%90%88.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/127.%E8%AE%BE%E8%AE%A1.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/128.MVC.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/129.Model%E6%8E%A5%E5%8F%A3.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/130.Model.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/131.%E8%A7%86%E5%9B%BE.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/132.%E7%8A%B6%E6%80%81%E8%A7%86%E5%9B%BE.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/133.%E6%8E%A7%E5%88%B6%E8%A7%86%E5%9B%BE.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/134.%E6%8E%A7%E5%88%B6%E5%99%A8%E6%8E%A5%E5%8F%A3.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/135.%E6%8E%A7%E5%88%B6%E5%99%A8%E5%AE%9E%E7%8E%B0.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/136.%E8%BF%90%E8%A1%8C.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/137.%E5%BF%83%E8%B7%B3%E9%80%82%E9%85%8D.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/138.%E5%BF%83%E8%B7%B3%E6%8E%A7%E5%88%B6.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/139.%E6%B5%8B%E8%AF%95.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/140.%E6%A8%A1%E5%BC%8F%E5%88%86%E7%B1%BB.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/141.%E7%B1%BB%E4%B8%8E%E5%AF%B9%E8%B1%A1.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/142.%E9%BB%84%E9%87%91%E6%A6%94%E5%A4%B4.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/143.%E6%A1%A5%E6%8E%A5.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/144.%E6%A1%A5%E6%8E%A5%E7%B1%BB%E5%9B%BE.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/145.%E7%94%9F%E6%88%90%E5%99%A8%E4%B8%BB%E9%A2%98.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/146.%E6%9C%89%E5%BC%B9%E6%80%A7.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/147.%E7%94%9F%E6%88%90%E5%99%A8%E7%B1%BB%E5%9B%BE.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/148.%E5%9C%BA%E6%99%AF.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/149.%E8%B4%A3%E4%BB%BB%E9%93%BE.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/150.%E5%9C%BA%E6%99%AF.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/151.%E8%9D%87%E9%87%8F.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/152.%E8%A7%A3%E9%87%8A%E5%99%A8.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/153.%E7%B1%BB%E5%9B%BE.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/154.%E5%9C%BA%E6%99%AF.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/155.%E4%B8%AD%E4%BB%8B.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/156.%E5%9C%BA%E6%99%AF.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/157.%E7%B1%BB%E5%9B%BE.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/158.%E5%9C%BA%E6%99%AF.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/159.%E5%8E%9F%E5%9E%8B.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/160.%E5%9C%BA%E6%99%AF.png">
<meta property="og:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/161.%E8%AE%BF%E9%97%AE%E8%80%85.png">
<meta property="article:published_time" content="2021-01-16T12:51:11.000Z">
<meta property="article:modified_time" content="2021-01-17T14:55:54.448Z">
<meta property="article:author" content="不知自己不知">
<meta property="article:tag" content="服务端">
<meta property="article:tag" content="设计模式">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/simple_duck.png">

<link rel="canonical" href="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>《head first设计模式》 | 不知自己不知</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>


 <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css">

<script src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js"></script>
<!-- require MetingJS-->

<script src="https://cdn.jsdelivr.net/npm/meting@2.0.1/dist/Meting.min.js"></script> 

  <!--pjax：防止跳转页面音乐暂停-->
 <script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.js"></script>
  
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">不知自己不知</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">59</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">13</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">70</span></a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://xtlvlv.github.io/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/head.jpeg">
      <meta itemprop="name" content="不知自己不知">
      <meta itemprop="description" content="o.O">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="不知自己不知">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          《head first设计模式》
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-01-16 20:51:11" itemprop="dateCreated datePublished" datetime="2021-01-16T20:51:11+08:00">2021-01-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-01-17 22:55:54" itemprop="dateModified" datetime="2021-01-17T22:55:54+08:00">2021-01-17</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%9C%8D%E5%8A%A1%E7%AB%AF/" itemprop="url" rel="index"><span itemprop="name">服务端</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">评论数：</span>
    
    <a title="valine" href="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>17k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>15 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="置顶"><a href="#置顶" class="headerlink" title="置顶"></a>置顶</h1><ol>
<li>本书用到java，把每个设计模式都用C++实现了一遍，项目地址为：<a target="_blank" rel="noopener" href="https://github.com/xtlvlv/Design-patterns">github</a></li>
<li>真.受益匪浅<a id="more"></a>

</li>
</ol>
<h1 id="一、设计模式入门"><a href="#一、设计模式入门" class="headerlink" title="一、设计模式入门"></a>一、设计模式入门</h1><h3 id="1-入门的duck，注意接口的使用"><a href="#1-入门的duck，注意接口的使用" class="headerlink" title="1. 入门的duck，注意接口的使用"></a>1. 入门的duck，注意接口的使用</h3><!-- ![simple_duck](./img/simple_duck.png) -->
<img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/simple_duck.png" class="" title="simple_duck.png">

<h3 id="2-『有一个』可能比『是一个』更好。"><a href="#2-『有一个』可能比『是一个』更好。" class="headerlink" title="2.『有一个』可能比『是一个』更好。"></a>2.『有一个』可能比『是一个』更好。</h3><ul>
<li>『有一个』关系相当有趣:每一鸭子都有一个FlyBehavior且有一个QuackBehavior,让鸭子将飞行和呱呱叫委托它们代为处理。</li>
<li>当你将两个类结合起来使用,如同本例一般,这就是组合(composition)。这种作法和『继承』不同的地方在于,鸭子的行为不是继承而来,而是和适当的行为对象『组合』而来。</li>
<li>这是一个很重要的技巧。其实是使用了我们的第三个设计原则:多用组合,少用继承。</li>
</ul>
<h3 id="3-策略模式"><a href="#3-策略模式" class="headerlink" title="3. 策略模式"></a>3. 策略模式</h3><ul>
<li>刚刚用的就是策略模式(Strategy Pattern)。</li>
<li>策略模式：定义了算法族,分别封装起来,让它们之间可以互相替换,此模式让算法的变化独立于使用算法的客户。</li>
</ul>
<h3 id="4-设计谜题"><a href="#4-设计谜题" class="headerlink" title="4. 设计谜题"></a>4. 设计谜题</h3><ul>
<li>在下面,你将看到一堆杂乱的类与接口,这是取自一个动作冒险游戏。你将看到代表游戏角色的类,以及武器行为的类。每个角色一次只能使用一个武器,但是可以在游戏的过程中换武器。你的工作是要弄清楚这一切…  <!-- ![换武器题](./img/换武器题.png) -->
  <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/%E6%8D%A2%E6%AD%A6%E5%99%A8%E9%A2%98.png" class="" title="换武器题.png"></li>
<li>解答  <!-- ![换武器解答](./img/换武器解答.png) -->
  <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/%E6%8D%A2%E6%AD%A6%E5%99%A8%E8%A7%A3%E7%AD%94.png" class="" title="换武器解答.png">

</li>
</ul>
<h3 id="5-本章总结"><a href="#5-本章总结" class="headerlink" title="5. 本章总结"></a>5. 本章总结</h3><ul>
<li>OO基础<ol>
<li>抽象</li>
<li>封装</li>
<li>多态</li>
<li>继承</li>
</ol>
</li>
<li>OO原则<ol>
<li>封装变化。</li>
<li>多用组合,少用继承。</li>
<li>针对接口编程，不针对实现编程。</li>
</ol>
</li>
<li>OO模式<ul>
<li>策略：定义了算法族,分别封装起来,让它们之间可以互相替换,此模式让算法的变化独立于使用算法的客户。</li>
</ul>
</li>
</ul>
<h1 id="二、观察者模式，让你的对象知悉现状"><a href="#二、观察者模式，让你的对象知悉现状" class="headerlink" title="二、观察者模式，让你的对象知悉现状"></a>二、观察者模式，让你的对象知悉现状</h1><h3 id="1-气象监测应用的概况"><a href="#1-气象监测应用的概况" class="headerlink" title="1. 气象监测应用的概况"></a>1. 气象监测应用的概况</h3><!-- ![气象监测应用的概况.png](./img/气象监测应用的概况.png) -->
<img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/%E6%B0%94%E8%B1%A1%E7%9B%91%E6%B5%8B%E5%BA%94%E7%94%A8%E7%9A%84%E6%A6%82%E5%86%B5.png" class="" title="气象监测应用的概况.png">
<ul>
<li>我们的工作就是建立一个应用,利用WeatherData对象取得数据,并更新三个布告板:目前状况、气象统计和天气预报。<h3 id="2-一个错误示范"><a href="#2-一个错误示范" class="headerlink" title="2. 一个错误示范"></a>2. 一个错误示范</h3><!-- ![一个错误示范.png](./img/一个错误示范.png) -->
<img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/%E4%B8%80%E4%B8%AA%E9%94%99%E8%AF%AF%E7%A4%BA%E8%8C%83.png" class="" title="一个错误示范.png"></li>
<li>错误点<!-- ![观察者模式答案.png](./img/观察者模式答案.png) -->
<img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F%E7%AD%94%E6%A1%88.png" class="" title="观察者模式答案.png">
<h3 id="3-认识观察者模式"><a href="#3-认识观察者模式" class="headerlink" title="3. 认识观察者模式"></a>3. 认识观察者模式</h3></li>
<li>我们看看报纸和杂志的订阅是怎么回事:<ol>
<li>报社的业务就是出版报纸。</li>
<li>向某家报社订阅报纸,只要他们有新报纸出版,就会给你送来。只要你是他们的订户,你就会一直收到新报纸。</li>
<li>当你不想再看报纸的时候,取消订阅,他们就不会再送新报纸来。</li>
<li>只要报社还在运营,就会一直有人(或单位)向他们订阅报纸或取消订阅报纸。</li>
</ol>
</li>
<li>出版者+订阅者=观察者模式=主题(被观察者，observable)+观察者(observer)  <!-- ![观察者模式.png](./img/观察者模式.png) -->
  <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F.png" class="" title="观察者模式.png">

</li>
</ul>
<h3 id="4-定义观察者模式"><a href="#4-定义观察者模式" class="headerlink" title="4. 定义观察者模式"></a>4. 定义观察者模式</h3><ul>
<li>观察者模式<ul>
<li>定义了对象之间的一对多依赖,这样一来,当一个对象改变状态时,它的所有依赖者都会收到通知并自动更新。</li>
</ul>
</li>
<li>类图  <!-- ![观察者模式类图.png](./img/观察者模式类图.png) -->
  <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F%E7%B1%BB%E5%9B%BE.png" class="" title="观察者模式类图.png">

</li>
</ul>
<h3 id="5-设计气象站"><a href="#5-设计气象站" class="headerlink" title="5. 设计气象站"></a>5. 设计气象站</h3><ul>
<li>气象站类图<!-- ![气象站类图.png](./img/气象站类图.png) -->
<img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/%E6%B0%94%E8%B1%A1%E7%AB%99%E7%B1%BB%E5%9B%BE.png" class="" title="气象站类图.png">

</li>
</ul>
<h3 id="6-拉推"><a href="#6-拉推" class="headerlink" title="6. 拉推"></a>6. 拉推</h3><ul>
<li>以上是推的方式，被观察者改变就主动告诉所有观察者</li>
<li>还有拉的方式，被观察者提供get接口，观察者主动获取数据</li>
<li>这两种都用代码实现了，在github项目中</li>
</ul>
<h3 id="6-java内置观察者模式接口"><a href="#6-java内置观察者模式接口" class="headerlink" title="6. java内置观察者模式接口"></a>6. java内置观察者模式接口</h3><ul>
<li>java.util.Observable,被观察者</li>
<li>java.util.Observer,观察者</li>
<li>java.util.Observable的黑暗面<ol>
<li>Observable是一个类<ul>
<li>首先,因为Observable是一个“类”,你必须设计一个类继承它。如果某类想同时具有Observable类和另一个超类的行为,就会陷入两难,毕竟Java不支持多重继承。这限制了Observable的复用潜力</li>
<li>再者,因为没有Observable接口,所以你无法建立自己的实现,和Java内置的Observer API搭配使用,也无法将java.util的实现换成另一套做法的实现</li>
</ul>
</li>
<li>Observable将关键的方法保护起来<ul>
<li>你会发现setChanged()方法被保护起来了(被定义成protected)。那又怎么样呢?这意味着:除非你继承自Observable,否则你无法创建Observable实例并组合到你自己的对象中来。这个设计违反了第二个设计原则:“多用组合,少用继承”。</li>
</ul>
</li>
</ol>
</li>
</ul>
<h3 id="7-总结"><a href="#7-总结" class="headerlink" title="7. 总结"></a>7. 总结</h3><ul>
<li>OO基础<ol>
<li>抽象</li>
<li>封装</li>
<li>多态</li>
<li>继承</li>
</ol>
</li>
<li>OO原则<ol>
<li>封装变化。</li>
<li>多用组合,少用继承。</li>
<li>针对接口编程，不针对实现编程。</li>
<li>为交互对象之间的松耦合设计而努力</li>
</ol>
</li>
<li>OO模式<ul>
<li>观察者模式：定义了对象之间的一对多依赖,这样一来,当一个对象改变状态时,它的所有依赖者都会收到通知并自动更新。<h3 id="8-要点"><a href="#8-要点" class="headerlink" title="8. 要点"></a>8. 要点</h3></li>
</ul>
</li>
</ul>
<ol>
<li>观察者模式定义了对象之间一对多的关系。</li>
<li>主题(也就是可观察者)用一个共同的接口来更新观察者</li>
<li>观察者和可观察者之间用松耦合方式结合(loosecoupl-ing),可观察者不知道观察者的细节,只知道观察者实现了观察者接口。</li>
<li>使用此模式时,你可从被观察者处推(push)或拉(pull)数据(然而,推的方式被认为更“正确”)。</li>
<li>有多个观察者时,不可以依赖特定的通知次序。</li>
<li>Java有多种观察者模式的实现,包括了通用的java.util.Observable。</li>
<li>要注意java.util.Observable实现上所带来的一些问题。</li>
<li>如果有必要的话,可以实现自己的Observable,这并不难,不要害怕。</li>
<li>Swing大量使用观察者模式,许多GUI框架也是如此。</li>
<li>此模式也被应用在许多地方,例如:JavaBeans、RMI。</li>
</ol>
<h1 id="三、装饰者模式，装饰对象"><a href="#三、装饰者模式，装饰对象" class="headerlink" title="三、装饰者模式，装饰对象"></a>三、装饰者模式，装饰对象</h1><h3 id="1-认识装饰者模式"><a href="#1-认识装饰者模式" class="headerlink" title="1. 认识装饰者模式"></a>1. 认识装饰者模式</h3><ul>
<li>我们要以饮料为主体,然后在运行时以调料来“装饰”(decorate)饮料。比方说,如果顾客想要摩卡和奶泡深焙咖啡,那么,要做的是:<ol>
<li>拿一个深焙咖啡(DarkRoast)对象</li>
<li>以摩卡(Mocha)对象装饰它</li>
<li>以奶泡(Whip)对象装饰它</li>
<li>调用cost()方法,并依赖委托(delegate)将调料的价钱加上去。<h3 id="2-以装饰者构造饮料订单"><a href="#2-以装饰者构造饮料订单" class="headerlink" title="2. 以装饰者构造饮料订单"></a>2. 以装饰者构造饮料订单</h3><!-- ![以装饰者构造饮料订单1](./img/1.以装饰者构造饮料订单1.png) -->
<img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/1.%E4%BB%A5%E8%A3%85%E9%A5%B0%E8%80%85%E6%9E%84%E9%80%A0%E9%A5%AE%E6%96%99%E8%AE%A2%E5%8D%951.png" class="" title="1.以装饰者构造饮料订单1.png">
<!-- ![以装饰者构造饮料订单2](./img/2.以装饰者构造饮料订单2.png) -->
<img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/2.%E4%BB%A5%E8%A3%85%E9%A5%B0%E8%80%85%E6%9E%84%E9%80%A0%E9%A5%AE%E6%96%99%E8%AE%A2%E5%8D%952.png" class="" title="2.以装饰者构造饮料订单2.png">

</li>
</ol>
</li>
</ul>
<h3 id="3-定义装饰者模式"><a href="#3-定义装饰者模式" class="headerlink" title="3. 定义装饰者模式"></a>3. 定义装饰者模式</h3><ul>
<li>装饰者模式<ul>
<li>动态地将责任附加到对象上。若要扩展功能,装饰者提供了比继承更有弹性的替代方案。</li>
</ul>
</li>
<li>装饰者模式类图<!-- ![3.装饰者模式类图.png](./img/3.装饰者模式类图.png) -->
<img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/3.%E8%A3%85%E9%A5%B0%E8%80%85%E6%A8%A1%E5%BC%8F%E7%B1%BB%E5%9B%BE.png" class="" title="3.装饰者模式类图.png">

</li>
</ul>
<h3 id="4-装饰我们的饮料"><a href="#4-装饰我们的饮料" class="headerlink" title="4. 装饰我们的饮料"></a>4. 装饰我们的饮料</h3><!-- ![4.装饰我们的饮料.png](./img/4.装饰我们的饮料.png) -->
<img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/4.%E8%A3%85%E9%A5%B0%E6%88%91%E4%BB%AC%E7%9A%84%E9%A5%AE%E6%96%99.png" class="" title="4.装饰我们的饮料.png">

<h3 id="5-真实世界的装饰者-Java-I-O"><a href="#5-真实世界的装饰者-Java-I-O" class="headerlink" title="5. 真实世界的装饰者:Java I/O"></a>5. 真实世界的装饰者:Java I/O</h3><!-- ![5.装饰者例子.png](./img/5.装饰者例子.png) -->
<img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/5.%E8%A3%85%E9%A5%B0%E8%80%85%E4%BE%8B%E5%AD%90.png" class="" title="5.装饰者例子.png">
<ul>
<li>装饰javaio类<!-- ![装饰javaio类](./img/6.装饰javaio类.png) -->
<img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/6.%E8%A3%85%E9%A5%B0javaio%E7%B1%BB.png" class="" title="6.装饰javaio类.png"></li>
<li>但是JavaAI/O也引出装饰者模式的一个“缺点”:利用装饰者模式,常常造成设计中有大量的小类,数量实在太多,可能会造成使用此API程序员的困扰。但是,现在你已经了解了装饰者的工作原理,以后当使用别人的大量装饰的API时,就可以很容易地辨别出他们的装饰者类是如何组织的,以方便用包装方式取得想要的行为。</li>
</ul>
<h3 id="6-编写自己的Java-I-0装饰者"><a href="#6-编写自己的Java-I-0装饰者" class="headerlink" title="6. 编写自己的Java I/0装饰者"></a>6. 编写自己的Java I/0装饰者</h3><ul>
<li>编写一个装饰者,把输入流内的所有大写字符转成小写。<!-- ![7.自己的javaio装饰者.png](./img/7.自己的javaio装饰者.png) -->
<img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/7.%E8%87%AA%E5%B7%B1%E7%9A%84javaio%E8%A3%85%E9%A5%B0%E8%80%85.png" class="" title="7.自己的javaio装饰者.png"></li>
<li>测试<!-- ![8.javaio装饰者测试.png](./img/8.javaio装饰者测试.png) -->
<img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/8.javaio%E8%A3%85%E9%A5%B0%E8%80%85%E6%B5%8B%E8%AF%95.png" class="" title="8.javaio装饰者测试.png">

</li>
</ul>
<h3 id="7-总结-1"><a href="#7-总结-1" class="headerlink" title="7. 总结"></a>7. 总结</h3><ul>
<li>OO基础<ol>
<li>抽象</li>
<li>封装</li>
<li>多态</li>
<li>继承</li>
</ol>
</li>
<li>OO原则<ol>
<li>封装变化。</li>
<li>多用组合,少用继承。</li>
<li>针对接口编程，不针对实现编程。</li>
<li>为交互对象之间的松耦合设计而努力</li>
<li>对扩展开放，对修改关闭</li>
</ol>
</li>
<li>OO模式<ul>
<li>装饰者模式：动态地将责任附加到对象上。若要扩展功能,装饰者提供了比继承更有弹性的替代方案。</li>
</ul>
</li>
</ul>
<h3 id="8-要点-1"><a href="#8-要点-1" class="headerlink" title="8. 要点"></a>8. 要点</h3><ol>
<li>继承属于扩展形式之一,但不见得是达到弹性设计的最佳方式。</li>
<li>在我们的设计中,应该允许行为可以被扩展,而无须修改现有的代码。</li>
<li>组合和委托可用于在运行时动态地加上新的行为。</li>
<li>除了继承,装饰者模式也可以让我们扩展行为。</li>
<li>装饰者模式意味着一群装饰者类,这些类用来包装具体组件。</li>
<li>装饰者类反映出被装饰的组件类型(事实上,他们具有相同的类型,都经过接口或继承实现)。</li>
<li>装饰者可以在被装饰者的行为前面与 / 或后面加上自己的行为,甚至将被装饰者的行为整个取代掉,而达到特定的目的。</li>
<li>你可以用无数个装饰者包装一个组件。</li>
<li>装饰者一般对组件的客户是透明的,除非客户程序依赖于组件的具体类型。</li>
<li>装饰者会导致设计中出现许多小对象,如果过度使用,会让程序变得很复杂。</li>
</ol>
<h1 id="四、工厂模式，烘烤OO的精华"><a href="#四、工厂模式，烘烤OO的精华" class="headerlink" title="四、工厂模式，烘烤OO的精华"></a>四、工厂模式，烘烤OO的精华</h1><h3 id="1-定义简单工厂"><a href="#1-定义简单工厂" class="headerlink" title="1. 定义简单工厂"></a>1. 定义简单工厂</h3><ul>
<li>简单工厂其实并不是一个设计模式，比较像是一种编程习惯。它并不是“工厂模式”<!-- ![9.简单工厂.png](./img/9.简单工厂.png) -->
<img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/9.%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82.png" class="" title="9.简单工厂.png">

</li>
</ul>
<h3 id="2-工厂模式"><a href="#2-工厂模式" class="headerlink" title="2. 工厂模式"></a>2. 工厂模式</h3><ul>
<li>所有工厂模式都用来封装对象的创建。</li>
<li>工厂方法模式通过让子类决定创建的对象是什么，来达到将对象创建的过程封装的目的。</li>
<li>类图<!-- ![工厂模式创建者类](./img/10.工厂模式创建者类.png) -->
<img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/10.%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%E5%88%9B%E5%BB%BA%E8%80%85%E7%B1%BB.png" class="" title="10.工厂模式创建者类.png">
<!-- ![工厂模式产品类](./img/11.工厂模式产品类.png) -->
<img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/11.%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%E4%BA%A7%E5%93%81%E7%B1%BB.png" class="" title="11.工厂模式产品类.png">

</li>
</ul>
<h3 id="3-另一个观点：平行的类层级"><a href="#3-另一个观点：平行的类层级" class="headerlink" title="3. 另一个观点：平行的类层级"></a>3. 另一个观点：平行的类层级</h3><!-- ![12.平行的类层级.png](./img/12.平行的类层级.png) -->
<img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/12.%E5%B9%B3%E8%A1%8C%E7%9A%84%E7%B1%BB%E5%B1%82%E7%BA%A7.png" class="" title="12.平行的类层级.png">

<h3 id="4-定义工厂方法模式"><a href="#4-定义工厂方法模式" class="headerlink" title="4. 定义工厂方法模式"></a>4. 定义工厂方法模式</h3><ul>
<li>工厂方法模式<ul>
<li>定义了一个创建对象的接口，但由子类决定要实例化的类是哪一个。工厂模式让类把实例化推迟到子类。</li>
</ul>
</li>
<li>工厂类图<!-- ![13.工厂类图.png](./img/13.工厂类图.png) -->
<img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/13.%E5%B7%A5%E5%8E%82%E7%B1%BB%E5%9B%BE.png" class="" title="13.工厂类图.png">

</li>
</ul>
<h3 id="5-对象依赖"><a href="#5-对象依赖" class="headerlink" title="5. 对象依赖"></a>5. 对象依赖</h3><ul>
<li>当直接实例化一个对象时，就是在依赖它的具体类，也就是new的时候</li>
<li>下面是一个依赖性很高的披萨例子<!-- ![18.高依赖性披萨.png](./img/18.高依赖性披萨.png) -->
<img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/18.%E9%AB%98%E4%BE%9D%E8%B5%96%E6%80%A7%E6%8A%AB%E8%90%A8.png" class="" title="18.高依赖性披萨.png">

</li>
</ul>
<h3 id="6-依赖倒置原则"><a href="#6-依赖倒置原则" class="headerlink" title="6. 依赖倒置原则"></a>6. 依赖倒置原则</h3><ul>
<li><p>设计原则：要依赖抽象，不要依赖具体类。</p>
</li>
<li><p>这个原则听起来很像是“针对接口编程，不针对实现编程”，然而这里更强调“抽象”</p>
</li>
<li><p>什么意思？</p>
<ul>
<li>之前的PizzaStore是“高层组件”，而披萨是“低层组件”，很清楚的，PizzaStore依赖这些具体披萨类</li>
<li>现在，这个原则告诉我们，应该重写代码以便于我们依赖抽象类，而不依赖具体类。对于高层和底层模块都应该如此。</li>
</ul>
</li>
<li><p>什么是“高层”和“低层”</p>
<ul>
<li>PizzaStore是个高层组件，因为它的行为是由披萨定义的；PizzaStore创建所有不同的披萨对象，准备、烘烤、切片、装盒；</li>
<li>而披萨本身属于低层组件</li>
</ul>
</li>
<li><p>应用工厂方法后的依赖关系图</p>
<ul>
<li>如下图所示，在应用工厂方法后，高层组件(PizzaStore)和低层组件(披萨)都依赖Pizza抽象。<!-- ![19.应用工厂方法后的依赖关系图.png](./img/19.应用工厂方法后的依赖关系图.png) -->
<img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/19.%E5%BA%94%E7%94%A8%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E5%90%8E%E7%9A%84%E4%BE%9D%E8%B5%96%E5%85%B3%E7%B3%BB%E5%9B%BE.png" class="" title="19.应用工厂方法后的依赖关系图.png"></li>
</ul>
</li>
<li><p>想要遵循依赖倒置原则，工厂方法并非是唯一的技巧，但却是最有威力的技巧之一。</p>
</li>
<li><p>几个指导方针帮助你遵循此原则</p>
<ol>
<li>变量不可以持有具体类的引用<ul>
<li>如果使用new,就会持有具体类的引用，可以用工厂来避免这样的做法</li>
</ul>
</li>
<li>不要让类派生自具体类<ul>
<li>如果派生自具体类，你就会依赖具体类，请派生自一个抽象(接口抽象类，用C++就是virtual)</li>
</ul>
</li>
<li>不要覆盖类中已实现的方法<ul>
<li>如股票覆盖基类已实现的方法，那么你的基类就不是一个真正适合被继承的抽象。基类中已实现的方法，应该由所有的子类共享</li>
</ul>
</li>
</ol>
<ul>
<li>要完全遵守这些指导方针几乎不可能，要尽量遵守</li>
</ul>
</li>
</ul>
<h3 id="7-定义抽象工厂模式"><a href="#7-定义抽象工厂模式" class="headerlink" title="7. 定义抽象工厂模式"></a>7. 定义抽象工厂模式</h3><ul>
<li><p>抽象工厂模式</p>
<ul>
<li>提供一个接口，用于创建相关或依赖对象的家族，而不需要明确指定具体类</li>
</ul>
</li>
<li><p>抽象工厂类图</p>
<!-- ![14.抽象工厂类图.png](./img/14.抽象工厂类图.png) -->
<img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/14.%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82%E7%B1%BB%E5%9B%BE.png" class="" title="14.抽象工厂类图.png"></li>
<li><p>从PizzaStore来看类图</p>
<!-- ![15.从PizzaStore来看类图.png](./img/15.从PizzaStore来看类图.png) -->
<img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/15.%E4%BB%8EPizzaStore%E6%9D%A5%E7%9C%8B%E7%B1%BB%E5%9B%BE.png" class="" title="15.从PizzaStore来看类图.png">
</li>
<li><p>都做哪些改变</p>
<ol>
<li>引入新类型的工厂，也就是抽象工厂，来创建披萨原料家族</li>
<li>我们的代码将从实际工厂解耦，以便在不同上下文中实现各式各样的工厂，制造出不同的产品。例如，不同的区域，不同的外观</li>
<li>可以替换不同的工厂来取得不停的行为</li>
</ol>
</li>
</ul>
<h3 id="8-比较工厂方法和抽象工厂"><a href="#8-比较工厂方法和抽象工厂" class="headerlink" title="8. 比较工厂方法和抽象工厂"></a>8. 比较工厂方法和抽象工厂</h3><ul>
<li>二者都是负责创建对象，但工厂方法使用的是继承，抽象工厂使用的是组合</li>
<li>抽象工厂的一个优点是可以把一群相关的产品集合起来<!-- ![16.比较工厂和抽象工厂.png](./img/16.比较工厂和抽象工厂.png) -->
<img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/16.%E6%AF%94%E8%BE%83%E5%B7%A5%E5%8E%82%E5%92%8C%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82.png" class="" title="16.比较工厂和抽象工厂.png">
<!-- ![17.比较工厂和抽象工厂2.png](./img/17.比较工厂和抽象工厂2.png) -->
<img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/17.%E6%AF%94%E8%BE%83%E5%B7%A5%E5%8E%82%E5%92%8C%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%822.png" class="" title="17.比较工厂和抽象工厂2.png">

</li>
</ul>
<h3 id="9-总结"><a href="#9-总结" class="headerlink" title="9. 总结"></a>9. 总结</h3><ul>
<li>OO基础<ol>
<li>抽象</li>
<li>封装</li>
<li>多态</li>
<li>继承</li>
</ol>
</li>
<li>OO原则<ol>
<li>封装变化。</li>
<li>多用组合,少用继承。</li>
<li>针对接口编程，不针对实现编程。</li>
<li>为交互对象之间的松耦合设计而努力</li>
<li>对扩展开放，对修改关闭</li>
<li>依赖抽象，不要依赖具体类</li>
</ol>
</li>
<li>OO模式<ul>
<li>工厂方法模式：定义了一个创建对象的接口，但由子类决定要实例化的类是哪一个。工厂模式让类把实例化推迟到子类。</li>
</ul>
</li>
</ul>
<h3 id="10-要点"><a href="#10-要点" class="headerlink" title="10. 要点"></a>10. 要点</h3><ol>
<li>所有的工厂都是用来封装对象的创建</li>
<li>简单工厂，虽然不是真正的设计模式，但扔不失为一个简单的方法，可以将客户程序从具体类解耦</li>
<li>工厂方法使用继承，把对象的创建委托给子类，子类实现工厂方法来创建对象</li>
<li>抽象工厂使用对象组合，对象的创建被实现在工厂接口所暴露出来的方法中。</li>
<li>所有工厂模式都通过减少应用程序和具体类之间的依赖促进松耦合</li>
<li>工厂方法允许将实例化延迟到子类进行</li>
<li>抽象工厂创建相关的对象家族，而不需要依赖它们的具体类</li>
<li>依赖倒置原则，知道我们避免依赖具体类型，而要尽量依赖抽象</li>
<li>工厂是很有威力的技巧，帮助我们针对抽象编程，而不是针对具体类编程</li>
</ol>
<h1 id="五、单件模式，独一无二的对象"><a href="#五、单件模式，独一无二的对象" class="headerlink" title="五、单件模式，独一无二的对象"></a>五、单件模式，独一无二的对象</h1><h3 id="1-定义单件模式-单实例模式"><a href="#1-定义单件模式-单实例模式" class="headerlink" title="1. 定义单件模式(单实例模式)"></a>1. 定义单件模式(单实例模式)</h3><ul>
<li>确保一个类只有一个实例，并提供一个全局访问点</li>
<li>经典例子<!-- ![20.简单单实例](./img/20.简单单实例.png) -->
<img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/20.%E7%AE%80%E5%8D%95%E5%8D%95%E5%AE%9E%E4%BE%8B.png" class="" title="20.简单单实例.png">

</li>
</ul>
<h3 id="2-处理多线程"><a href="#2-处理多线程" class="headerlink" title="2. 处理多线程"></a>2. 处理多线程</h3><ul>
<li>若是多线程创建单实例对象还是有可能创建多个对象</li>
<li>把getInstance()变成同步(synchronized)方法,在java中加上synchronized关键字<ul>
<li>这样不会有两个线程同时进入这个方法</li>
<li>同步会降低性能，而且，只有第一次执行此方法时，也就是还没创建对象时才需要同步，对象创建以后异步访问也没问题，之后的同步就是累赘</li>
</ul>
</li>
<li>改善多线程<ol>
<li>如果getInstance()的性能对应用程序不是很关键，就什么都别做，在getInstance()使用不频繁的情况下可以这样</li>
<li>使用“急切”创建实例，而不用延迟实例化的做法 <!-- ![21.急切创建实例.png](./img/21.急切创建实例.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/21.%E6%80%A5%E5%88%87%E5%88%9B%E5%BB%BA%E5%AE%9E%E4%BE%8B.png" class="" title="21.急切创建实例.png">
<ul>
<li>如果应用程序总是创建并使用单实例，或者在创建和运行时方面的负担不太繁重，可以用这种办法</li>
</ul>
</li>
<li>用“双重检查加锁”，在getInstance()中减少使用同步 <!-- ![22.双重加锁](./img/22.双重加锁.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/22.%E5%8F%8C%E9%87%8D%E5%8A%A0%E9%94%81.png" class="" title="22.双重加锁.png">
<ul>
<li>这样只有第一次会同步</li>
</ul>
</li>
</ol>
</li>
</ul>
<h3 id="3-总结"><a href="#3-总结" class="headerlink" title="3. 总结"></a>3. 总结</h3><ul>
<li>OO基础<ol>
<li>抽象</li>
<li>封装</li>
<li>多态</li>
<li>继承</li>
</ol>
</li>
<li>OO原则<ol>
<li>封装变化。</li>
<li>多用组合,少用继承。</li>
<li>针对接口编程，不针对实现编程。</li>
<li>为交互对象之间的松耦合设计而努力</li>
<li>对扩展开放，对修改关闭</li>
<li>依赖抽象，不要依赖具体类</li>
</ol>
</li>
<li>OO模式<ul>
<li>单件模式：确保一个类只有一个实例，并提供一个全局访问点</li>
</ul>
</li>
</ul>
<h3 id="4-要点"><a href="#4-要点" class="headerlink" title="4. 要点"></a>4. 要点</h3><ol>
<li>单件模式确保程序中一个类最多只有一个实例</li>
<li>单件模式也提供访问这个实例的全局点</li>
<li>在java中实现单件模式需要私有的构造器，一个静态方法和一个静态变量</li>
<li>确定在性能和资源上的限制，然后小心的选择适当的方案来实现单件，以解决多线程问题(我们必须认定所有的程序都是多线程的)</li>
<li>java低版本(1.5以下)使用双重加锁单实例有一些问题</li>
</ol>
<h1 id="六、命令模式，封装调用"><a href="#六、命令模式，封装调用" class="headerlink" title="六、命令模式，封装调用"></a>六、命令模式，封装调用</h1><h3 id="1-命令模式简单介绍–餐厅"><a href="#1-命令模式简单介绍–餐厅" class="headerlink" title="1. 命令模式简单介绍–餐厅"></a>1. 命令模式简单介绍–餐厅</h3><ul>
<li><p>餐厅的交互过程</p>
  <!-- ![24.餐厅交互过程](./img/24.餐厅交互过程.png) -->
  <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/24.%E9%A4%90%E5%8E%85%E4%BA%A4%E4%BA%92%E8%BF%87%E7%A8%8B.png" class="" title="24.餐厅交互过程.png">
</li>
<li><p>从餐厅到命令模式</p>
  <!-- ![25.餐厅的命令模式](./img/25.餐厅的命令模式.png) -->
  <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/25.%E9%A4%90%E5%8E%85%E7%9A%84%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F.png" class="" title="25.餐厅的命令模式.png">
</li>
<li><p>餐厅角色</p>
  <!-- ![26.餐厅角色](./img/26.餐厅角色.png) -->
  <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/26.%E9%A4%90%E5%8E%85%E8%A7%92%E8%89%B2.png" class="" title="26.餐厅角色.png">
</li>
<li><p>java代码例子</p>
<ol>
<li>实现命令接口 <!-- ![27.实现命令接口](./img/27.实现命令接口.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/27.%E5%AE%9E%E7%8E%B0%E5%91%BD%E4%BB%A4%E6%8E%A5%E5%8F%A3.png" class="" title="27.实现命令接口.png"></li>
<li>实现点灯打开命令 <!-- ![28.电灯打开命令](./img/28.电灯打开命令.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/28.%E7%94%B5%E7%81%AF%E6%89%93%E5%BC%80%E5%91%BD%E4%BB%A4.png" class="" title="28.电灯打开命令.png"></li>
<li>在控制器中使用命令对象 <!-- ![29.控制器中使用命令对象](./img/29.控制器中使用命令对象.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/29.%E6%8E%A7%E5%88%B6%E5%99%A8%E4%B8%AD%E4%BD%BF%E7%94%A8%E5%91%BD%E4%BB%A4%E5%AF%B9%E8%B1%A1.png" class="" title="29.控制器中使用命令对象.png"></li>
<li>测试控制器的使用 <!-- ![30.控制器测试](./img/30.控制器测试.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/30.%E6%8E%A7%E5%88%B6%E5%99%A8%E6%B5%8B%E8%AF%95.png" class="" title="30.控制器测试.png">

</li>
</ol>
</li>
</ul>
<h3 id="2-定义命令模式"><a href="#2-定义命令模式" class="headerlink" title="2. 定义命令模式"></a>2. 定义命令模式</h3><ul>
<li>命令模式：将“请求”封装成对象，以便使用不同的请求，队列或者日志来参数化其他对象，命令模式也支持可撤销的操作</li>
<li>类图  <!-- ![23.命令者模式类图.png](./img/23.命令者模式类图.png) -->
  <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/23.%E5%91%BD%E4%BB%A4%E8%80%85%E6%A8%A1%E5%BC%8F%E7%B1%BB%E5%9B%BE.png" class="" title="23.命令者模式类图.png">

</li>
</ul>
<h3 id="3-遥控器例子"><a href="#3-遥控器例子" class="headerlink" title="3. 遥控器例子"></a>3. 遥控器例子</h3><ol>
<li>将命令指定到插槽<ul>
<li>将遥控器的每个插槽对应到一个命令，这样就让遥控器变成“调用者”。当按下按钮，相应命令对象的execute()方法就会被调用，其结果就是，接收者(如电灯，电扇)的动作被调用<!-- ![31.遥控器插槽](./img/31.遥控器插槽.png) -->
<img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/31.%E9%81%A5%E6%8E%A7%E5%99%A8%E6%8F%92%E6%A7%BD.png" class="" title="31.遥控器插槽.png"></li>
</ul>
</li>
<li>实现遥控器 <!-- ![32.实现遥控器](./img/32.实现遥控器.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/32.%E5%AE%9E%E7%8E%B0%E9%81%A5%E6%8E%A7%E5%99%A8.png" class="" title="32.实现遥控器.png"></li>
<li>实现命令<ul>
<li>打开音响  <!-- ![33.打开音响命令](./img/33.打开音响命令.png) -->
  <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/33.%E6%89%93%E5%BC%80%E9%9F%B3%E5%93%8D%E5%91%BD%E4%BB%A4.png" class="" title="33.打开音响命令.png"></li>
<li>其他类似</li>
</ul>
</li>
<li>测试遥控器类 <!-- ![34.测试遥控器类](./img/34.测试遥控器类.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/34.%E6%B5%8B%E8%AF%95%E9%81%A5%E6%8E%A7%E5%99%A8%E7%B1%BB.png" class="" title="34.测试遥控器类.png">
 <!-- ![35.测试遥控器类2](./img/35.测试遥控器类2.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/35.%E6%B5%8B%E8%AF%95%E9%81%A5%E6%8E%A7%E5%99%A8%E7%B1%BB2.png" class="" title="35.测试遥控器类2.png">
<ul>
<li>上述有一些插槽为nocommand,有些插槽可能没有加载命令，我们用如下方法解决<!-- ![36.不做事命令](./img/36.不做事命令.png) -->
<img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/36.%E4%B8%8D%E5%81%9A%E4%BA%8B%E5%91%BD%E4%BB%A4.png" class="" title="36.不做事命令.png"></li>
</ul>
</li>
<li>遥控器API <!-- ![37.遥控器API](./img/37.遥控器API.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/37.%E9%81%A5%E6%8E%A7%E5%99%A8API.png" class="" title="37.遥控器API.png"></li>
<li>加入撤销功能<ol>
<li>在command接口中加入undo()方法 <!-- ![38.撤销1.png](./img/38.撤销1.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/38.%E6%92%A4%E9%94%801.png" class="" title="38.撤销1.png"></li>
<li>undo是每个命令execute()的逆过程 <!-- ![39.撤销2.png](./img/39.撤销2.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/39.%E6%92%A4%E9%94%802.png" class="" title="39.撤销2.png"></li>
<li>在遥控器中加入一个记录上一条命令的变量(这里有一个问题，只能撤销一次，若想撤销多次，可以用栈把命令压栈，每次撤销栈顶命令并弹出) <!-- ![40.撤销3.png](./img/40.撤销3.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/40.%E6%92%A4%E9%94%803.png" class="" title="40.撤销3.png"></li>
<li>对某些状态的撤销，如对电风扇速度的调整，需要在电风扇命令类里保存上次状态，并在undo()里做相应处理，这个不细说了</li>
</ol>
</li>
<li>宏命令<ul>
<li>就是一个命令类执行多条单个命令，在类里用个数组存储多个命令类，没什么可说的</li>
</ul>
</li>
</ol>
<h3 id="4-命令模式的更多用途：队列请求"><a href="#4-命令模式的更多用途：队列请求" class="headerlink" title="4. 命令模式的更多用途：队列请求"></a>4. 命令模式的更多用途：队列请求</h3><ol>
<li>运用命令模式，即使命令对象被创建许久之后，运算依然课被调用。事实上，它甚至可以在不同的线程中被调用。我们可以利用这样的特性衍生出一些应用，如：日程安排(Scheduler),线程池，工作队列等。</li>
<li>工作队列<ul>
<li>在一端添加命令</li>
<li>线程在另一端取出命令，调用它的execute()方法，等待这个调用完成，然后将此命令对象丢弃，再取出下一个命令……</li>
</ul>
</li>
<li>工作队列类和进行计算的对象之间完全是解耦的。此刻线程可能在进行财务计算，下一刻却在读取网络数据。工作队列对象不在乎到底做些什么，它们只知道取出命令对象，就可以放入队列里，当线程可用时，就调用此对象的execute()方法。</li>
</ol>
<h3 id="5-命令模式的更多用途：日志请求"><a href="#5-命令模式的更多用途：日志请求" class="headerlink" title="5. 命令模式的更多用途：日志请求"></a>5. 命令模式的更多用途：日志请求</h3><ul>
<li>将所有的动作记录在日志中，并能在系统死机后，重新调用这些动作恢复到之前的状态。</li>
<li>通过新增两个方法(store(),load())，命令模式能够支持这一点。  <!-- ![41.日志](./img/41.日志.png) -->
  <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/41.%E6%97%A5%E5%BF%97.png" class="" title="41.日志.png"></li>
<li>我们可以将上次检查点(checkpoint)之后的所有操作记录下来，如果系统出状况，从检查点开始应用这些操作  <!-- ![42.日志恢复](./img/42.日志恢复.png) -->
  <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/42.%E6%97%A5%E5%BF%97%E6%81%A2%E5%A4%8D.png" class="" title="42.日志恢复.png">

</li>
</ul>
<h3 id="6-总结"><a href="#6-总结" class="headerlink" title="6. 总结"></a>6. 总结</h3><ul>
<li>OO基础<ol>
<li>抽象</li>
<li>封装</li>
<li>多态</li>
<li>继承</li>
</ol>
</li>
<li>OO原则<ol>
<li>封装变化。</li>
<li>多用组合,少用继承。</li>
<li>针对接口编程，不针对实现编程。</li>
<li>为交互对象之间的松耦合设计而努力</li>
<li>对扩展开放，对修改关闭</li>
<li>依赖抽象，不要依赖具体类</li>
</ol>
</li>
<li>OO模式<ul>
<li>命令模式：将“请求”封装成对象，以便使用不同的请求，队列或者日志来参数化其他对象，命令模式也支持可撤销的操作</li>
</ul>
</li>
</ul>
<h3 id="7-要点"><a href="#7-要点" class="headerlink" title="7. 要点"></a>7. 要点</h3><ol>
<li>命令模式将发出请求的对象和执行请求的对象解耦</li>
<li>在被解耦的两者之间是通过命令对象进行沟通的。命令和对象封装了接收者和一个或一组动作</li>
<li>调用者通过调用命令对象的execute()发出请求，这会使得接收者的动作被调用</li>
<li>调用者可以接受命令当做参数，甚至在运行时动态的进行</li>
<li>命令可以支持撤销，做法是实现一个undo()方法来回到execute()被执行前的状态</li>
<li>宏命令是命令的一种简单的延伸,允许调用多个命令。宏方法也可以支持撤销</li>
<li>实际操作时，很常见使用“聪明”命令对象，也就是直接实现了请求，而不是将工作委托给接收者</li>
<li>命令也可以用来实现日志和事务系统</li>
</ol>
<h1 id="七、适配器与外观模式，随遇而安"><a href="#七、适配器与外观模式，随遇而安" class="headerlink" title="七、适配器与外观模式，随遇而安"></a>七、适配器与外观模式，随遇而安</h1><h3 id="1-面向对象适配器"><a href="#1-面向对象适配器" class="headerlink" title="1. 面向对象适配器"></a>1. 面向对象适配器</h3><ol>
<li>图解 <!-- ![43.面向对象适配器.png](./img/43.面向对象适配器.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/43.%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%80%82%E9%85%8D%E5%99%A8.png" class="" title="43.面向对象适配器.png"></li>
<li>鸭子例子<ol>
<li>鸭子接口 <!-- ![45.鸭子接口.png](./img/45.鸭子接口.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/45.%E9%B8%AD%E5%AD%90%E6%8E%A5%E5%8F%A3.png" class="" title="45.鸭子接口.png"></li>
<li>用火鸡冒充鸭子 <!-- ![46.火鸡.png](./img/46.火鸡.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/46.%E7%81%AB%E9%B8%A1.png" class="" title="46.火鸡.png"></li>
<li>测试适配器 <!-- ![47.测试.png](./img/47.测试.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/47.%E6%B5%8B%E8%AF%95.png" class="" title="47.测试.png">

</li>
</ol>
</li>
</ol>
<h3 id="2-定义适配器模式"><a href="#2-定义适配器模式" class="headerlink" title="2. 定义适配器模式"></a>2. 定义适配器模式</h3><ol>
<li>适配器模式<ul>
<li>将一个类的接口，转换成客户期望的另一个接口。适配器让原本接口不兼容的类可以合作无间。</li>
</ul>
</li>
<li>适配器模式解析<ol>
<li>客户通过目标接口调用适配器的方法对适配器发出请求</li>
<li>适配器使用被适配者接口把请求转换城被适配者的一个或多个调用接口。</li>
<li>客户接收到调用的结果，但并未察觉这一切是适配器在起转换作用<!-- ![44.适配器解析.png](./img/44.适配器解析.png) -->
<img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/44.%E9%80%82%E9%85%8D%E5%99%A8%E8%A7%A3%E6%9E%90.png" class="" title="44.适配器解析.png"></li>
</ol>
</li>
<li>类图<ol>
<li>对象适配器,使用组合，上述例子就是用的这个<!-- ![48.适配器类图.png](./img/48.适配器类图.png) -->
<img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/48.%E9%80%82%E9%85%8D%E5%99%A8%E7%B1%BB%E5%9B%BE.png" class="" title="48.适配器类图.png"></li>
<li>类适配器，这个要用到多继承，而java没有多继承，所以没法在java中用<!-- ![49.类适配器.png](./img/49.类适配器.png) -->
<img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/49.%E7%B1%BB%E9%80%82%E9%85%8D%E5%99%A8.png" class="" title="49.类适配器.png"></li>
</ol>
</li>
<li>鸭子例子对应的类图 <!-- ![50.鸭子适配器.png](./img/50.鸭子适配器.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/50.%E9%B8%AD%E5%AD%90%E9%80%82%E9%85%8D%E5%99%A8.png" class="" title="50.鸭子适配器.png">

</li>
</ol>
<h3 id="3-真实世界的适配器"><a href="#3-真实世界的适配器" class="headerlink" title="3. 真实世界的适配器"></a>3. 真实世界的适配器</h3><ol>
<li>一个java中的例子 <!-- ![51.java适配器例子.png](./img/51.java适配器例子.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/51.java%E9%80%82%E9%85%8D%E5%99%A8%E4%BE%8B%E5%AD%90.png" class="" title="51.java适配器例子.png"></li>
<li>类图 <!-- ![52.java类图.png](./img/52.java类图.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/52.java%E7%B1%BB%E5%9B%BE.png" class="" title="52.java类图.png"></li>
<li>Emi,eratorIterator适配器 <!-- ![53.java适配器代码.png](./img/53.java适配器代码.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/53.java%E9%80%82%E9%85%8D%E5%99%A8%E4%BB%A3%E7%A0%81.png" class="" title="53.java适配器代码.png">

</li>
</ol>
<h3 id="4-定义外观模式"><a href="#4-定义外观模式" class="headerlink" title="4. 定义外观模式"></a>4. 定义外观模式</h3><ol>
<li>外观模式<ul>
<li>提供了一个统一的接口，用来访问子系统中的一群接口。外观定义了一个高层接口，让子系统更容易使用</li>
</ul>
</li>
<li>类图 <!-- ![54.外观模式类图.png](./img/54.外观模式类图.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/54.%E5%A4%96%E8%A7%82%E6%A8%A1%E5%BC%8F%E7%B1%BB%E5%9B%BE.png" class="" title="54.外观模式类图.png"></li>
<li>观看电影的例子<ul>
<li>电影院外观  <!-- ![57.电影院外观.png](./img/57.电影院外观.png) -->
  <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/57.%E7%94%B5%E5%BD%B1%E9%99%A2%E5%A4%96%E8%A7%82.png" class="" title="57.电影院外观.png"></li>
<li>实现简化的接口  <!-- ![56.实现简化的接口.png](./img/56.实现简化的接口.png) -->
  <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/56.%E5%AE%9E%E7%8E%B0%E7%AE%80%E5%8C%96%E7%9A%84%E6%8E%A5%E5%8F%A3.png" class="" title="56.实现简化的接口.png"></li>
<li>更轻松的调用观赏电影接口  <!-- ![58.观赏电影.png](./img/58.观赏电影.png) -->
  <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/58.%E8%A7%82%E8%B5%8F%E7%94%B5%E5%BD%B1.png" class="" title="58.观赏电影.png">

</li>
</ul>
</li>
</ol>
<h3 id="5-“最少知识”原则"><a href="#5-“最少知识”原则" class="headerlink" title="5. “最少知识”原则"></a>5. “最少知识”原则</h3><ol>
<li>最少知识原则：只和你的密友交谈，减少对象之间的交互</li>
<li>如何不要赢得太多的朋友和影响太多的对象？就任何对象而言，在该对象的方法内，我们只应该调用属于以下范围的方法：<ol>
<li>该对象本身</li>
<li>被当做方法参数而传递进来的对象</li>
<li>此方法锁创建或实例化的任何对象</li>
<li>对象的任何组件(has-a)</li>
</ol>
<ul>
<li>若某对象是调用其他方法的返回结果，不要调用该对象的方法<!-- ![55.最少知识.png](./img/55.最少知识.png) -->
<img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/55.%E6%9C%80%E5%B0%91%E7%9F%A5%E8%AF%86.png" class="" title="55.最少知识.png"></li>
</ul>
</li>
<li>将方法调用保持在界限内 <!-- ![59.将方法调用保持在界限内.png](./img/59.将方法调用保持在界限内.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/59.%E5%B0%86%E6%96%B9%E6%B3%95%E8%B0%83%E7%94%A8%E4%BF%9D%E6%8C%81%E5%9C%A8%E7%95%8C%E9%99%90%E5%86%85.png" class="" title="59.将方法调用保持在界限内.png"></li>
<li>外观和最少知识原则 <!-- ![60.外观和最少知识.png](./img/60.外观和最少知识.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/60.%E5%A4%96%E8%A7%82%E5%92%8C%E6%9C%80%E5%B0%91%E7%9F%A5%E8%AF%86.png" class="" title="60.外观和最少知识.png">

</li>
</ol>
<h3 id="6-三种模式对比"><a href="#6-三种模式对比" class="headerlink" title="6. 三种模式对比"></a>6. 三种模式对比</h3><ol>
<li>装饰者：不改变接口，但加入责任</li>
<li>适配器：将一个接口转换成另一个接口</li>
<li>外观：让接口更简单</li>
</ol>
<h3 id="7-总结-2"><a href="#7-总结-2" class="headerlink" title="7. 总结"></a>7. 总结</h3><ul>
<li>OO基础<ol>
<li>抽象</li>
<li>封装</li>
<li>多态</li>
<li>继承</li>
</ol>
</li>
<li>OO原则<ol>
<li>封装变化。</li>
<li>多用组合,少用继承。</li>
<li>针对接口编程，不针对实现编程。</li>
<li>为交互对象之间的松耦合设计而努力</li>
<li>对扩展开放，对修改关闭</li>
<li>依赖抽象，不要依赖具体类</li>
<li>只和朋友交流</li>
</ol>
</li>
<li>OO模式<ul>
<li>适配器模式：将一个类的接口，转换成客户期望的另一个接口。适配器让原本接口不兼容的类可以合作无间。</li>
<li>外观模式：提供了一个统一的接口，用来访问子系统中的一群接口。外观定义了一个高层接口，让子系统更容易使用</li>
</ul>
</li>
</ul>
<h3 id="8-要点-2"><a href="#8-要点-2" class="headerlink" title="8. 要点"></a>8. 要点</h3><ol>
<li>当需要使用一个现有的类而其接口并不符合你的需要时，就使用适配器</li>
<li>当需要简化并统一一个很大的接口或者一群复杂的接口时，使用外观</li>
<li>适配器改变接口以符合客户的期望</li>
<li>外观将客户从一个复杂的子系统中解耦</li>
<li>实现一个适配器可能需要一番功夫，也可能不费功夫，视目标接口的大小和复杂度而定</li>
<li>实现一个外观，需要将子系统组合进外观中，然后将工作委托给子系统执行</li>
<li>适配器模式有两种形式：对象适配器和类适配器。类适配器需要用到多重继承</li>
<li>你可以为一个子系统实现一个以上的外观</li>
<li>适配器将一个对象包装起来以改变其接口，装饰者将一个对象包装起来以增加新的行为和责任，而外观将一群对象“包装”起来以简化其接口</li>
</ol>
<h1 id="八、模板方法模式，封装算法"><a href="#八、模板方法模式，封装算法" class="headerlink" title="八、模板方法模式，封装算法"></a>八、模板方法模式，封装算法</h1><h3 id="1-定义模板方法"><a href="#1-定义模板方法" class="headerlink" title="1. 定义模板方法"></a>1. 定义模板方法</h3><ol>
<li>模板方法模式<ul>
<li>在一个方法中定义一个算法的骨架，而将一些步骤延迟到子类中。模板方法使得子类在不改变算法结构的情况下，重新定义算法中的某些步骤。</li>
</ul>
</li>
<li>类图 <!-- ![61.模板方法类图.png](./img/61.模板方法类图.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/61.%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95%E7%B1%BB%E5%9B%BE.png" class="" title="61.模板方法类图.png"></li>
<li>咖啡与茶的实例<ul>
<li>咖啡因饮料基类  <!-- ![64.咖啡因饮料基类.png](./img/64.咖啡因饮料基类.png) -->
  <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/64.%E5%92%96%E5%95%A1%E5%9B%A0%E9%A5%AE%E6%96%99%E5%9F%BA%E7%B1%BB.png" class="" title="64.咖啡因饮料基类.png"></li>
<li>咖啡和茶子类  <!-- ![65.咖啡和茶子类.png](./img/65.咖啡和茶子类.png) -->
  <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/65.%E5%92%96%E5%95%A1%E5%92%8C%E8%8C%B6%E5%AD%90%E7%B1%BB.png" class="" title="65.咖啡和茶子类.png">
<h3 id="2-对模板方法进行挂钩"><a href="#2-对模板方法进行挂钩" class="headerlink" title="2. 对模板方法进行挂钩"></a>2. 对模板方法进行挂钩</h3></li>
</ul>
</li>
<li>钩子是一种被声明在抽象类中的方法，但只有空的或者默认的实现。钩子的存在，可以让子类有能力对算法的不同点进行挂钩。要不要挂钩，由子类自行决定。</li>
<li>钩子的一种用途<ul>
<li>基类的钩子<!-- ![62.钩子用法1.png](./img/62.钩子用法1.png) -->
<img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/62.%E9%92%A9%E5%AD%90%E7%94%A8%E6%B3%951.png" class="" title="62.钩子用法1.png"></li>
<li>子类覆盖钩子(也可以不覆盖，用基类默认的)<!-- ![63.钩子子类.png](./img/63.钩子子类.png) -->
<img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/63.%E9%92%A9%E5%AD%90%E5%AD%90%E7%B1%BB.png" class="" title="63.钩子子类.png">

</li>
</ul>
</li>
</ol>
<h3 id="3-好莱坞原则"><a href="#3-好莱坞原则" class="headerlink" title="3. 好莱坞原则"></a>3. 好莱坞原则</h3><ol>
<li>好莱坞原则<ul>
<li>别调用(打电话给)我们，我们会调用(打电话给)你。</li>
</ul>
</li>
<li>好莱坞可以防止“依赖腐败”<ul>
<li>当高层组件依赖低层组件，而低层组件又依赖高层组件，而高层组件又依赖边侧组件，边侧组件又依赖低层组件时，依赖腐败就发生了。</li>
<li>在这种情况下，没有人可以轻易地搞懂系统是如何设计的。</li>
</ul>
</li>
<li>在好莱坞原则之下，我们允许低层组件将自己挂钩到系统上，但是高层组件会决定什么时候和怎样使用这些低层组件。换句话说，高层组件对待低层组件的方式是“别调用我们，我们会调用你”。 <!-- ![66.好莱坞依赖.png](./img/66.好莱坞依赖.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/66.%E5%A5%BD%E8%8E%B1%E5%9D%9E%E4%BE%9D%E8%B5%96.png" class="" title="66.好莱坞依赖.png">
<h3 id="4-好莱坞原则和模板方法"><a href="#4-好莱坞原则和模板方法" class="headerlink" title="4. 好莱坞原则和模板方法"></a>4. 好莱坞原则和模板方法</h3></li>
<li>当我们设计模板方法模式时，我们告诉子类，“不要调用我们，我们会调用你”。 <!-- ![67.好莱坞模板.png](./img/67.好莱坞模板.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/67.%E5%A5%BD%E8%8E%B1%E5%9D%9E%E6%A8%A1%E6%9D%BF.png" class="" title="67.好莱坞模板.png">

</li>
</ol>
<h3 id="5-三种模板的区别"><a href="#5-三种模板的区别" class="headerlink" title="5. 三种模板的区别"></a>5. 三种模板的区别</h3><ol>
<li>模板方法：子类决定如何实现算法中的某些步骤</li>
<li>策略：封装可互换的行为，然后使用委托来决定要采用哪一个行为</li>
<li>工厂方法：由子类决定实例化哪个具体类</li>
</ol>
<h3 id="6-java中模板方法的使用"><a href="#6-java中模板方法的使用" class="headerlink" title="6. java中模板方法的使用"></a>6. java中模板方法的使用</h3><ol>
<li>排序 <ul>
<li>java对对象排序，可以实现compareTo()函数，让Array.sort()知道怎么排。(这么方便)</li>
</ul>
</li>
<li>Swing<ul>
<li>paint()钩子函数  <!-- ![68.swing钩子.png](./img/68.swing钩子.png) -->
  <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/68.swing%E9%92%A9%E5%AD%90.png" class="" title="68.swing钩子.png"></li>
</ul>
</li>
<li>Applet<ul>
<li>applet就是一个能够在网页上面执行的小程序。任何applet都必须继承自Applet类，而Applet类中提供了好些钩子，以下是其中几个。  <!-- ![69.applet钩子.png](./img/69.applet钩子.png) -->
  <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/69.applet%E9%92%A9%E5%AD%90.png" class="" title="69.applet钩子.png">

</li>
</ul>
</li>
</ol>
<h3 id="7-策略和模板的区别"><a href="#7-策略和模板的区别" class="headerlink" title="7. 策略和模板的区别"></a>7. 策略和模板的区别</h3><ol>
<li>策略模式<ul>
<li>定义了一个算法家族，并让这些算法可以互换。</li>
<li>使用组合，所以更有弹性</li>
</ul>
</li>
<li>模板方法模式<ul>
<li>定义一个算法的大纲，在子类中定义其中某些步骤的内容</li>
<li>使用继承，所以重复代码更少，效率稍微高一点</li>
</ul>
</li>
</ol>
<h3 id="8-总结"><a href="#8-总结" class="headerlink" title="8. 总结"></a>8. 总结</h3><ul>
<li>OO基础<ol>
<li>抽象</li>
<li>封装</li>
<li>多态</li>
<li>继承</li>
</ol>
</li>
<li>OO原则<ol>
<li>封装变化。</li>
<li>多用组合,少用继承。</li>
<li>针对接口编程，不针对实现编程。</li>
<li>为交互对象之间的松耦合设计而努力</li>
<li>对扩展开放，对修改关闭</li>
<li>依赖抽象，不要依赖具体类</li>
<li>只和朋友交流</li>
<li>别找我，我会找你</li>
</ol>
</li>
<li>OO模式<ul>
<li>模板方法模式：在一个方法中定义一个算法的骨架，而将一些步骤延迟到子类中。模板方法使得子类在不改变算法结构的情况下，重新定义算法中的某些步骤。</li>
</ul>
</li>
</ul>
<h3 id="9-要点"><a href="#9-要点" class="headerlink" title="9. 要点"></a>9. 要点</h3><ol>
<li>模板方法 定义了算法的步骤，把这些步骤的实现延迟到子类</li>
<li>模板方法模式为我们提供了一种代码复用的重要技巧</li>
<li>模板方法的抽象类可以定义具体方法、抽象方法和钩子</li>
<li>抽象方法由子类实现</li>
<li>钩子是一种方法，它在抽象类中不做事，或者只做默认的事，子类可以选择要不要取覆盖它</li>
<li>为了防止子类改变模板方法中的算法，可以将模板方法声明为final</li>
<li>好莱坞原则告诉我们，将决策权放在高层模块中，一遍决定如何以及何时调用低层模块</li>
<li>你将在真实世界代码中看到模板方法模式的许多变体，不要期待他们全部是一眼就可以被认出的</li>
<li>策略模式和模板方法模式都封装算法，一个用组合，一个用继承</li>
<li>工厂方法是模板方法的一个特殊版本</li>
</ol>
<h1 id="九、迭代器与组合模式，管理良好的集合"><a href="#九、迭代器与组合模式，管理良好的集合" class="headerlink" title="九、迭代器与组合模式，管理良好的集合"></a>九、迭代器与组合模式，管理良好的集合</h1><h3 id="1-定义迭代器模式"><a href="#1-定义迭代器模式" class="headerlink" title="1. 定义迭代器模式"></a>1. 定义迭代器模式</h3><ol>
<li><p>迭代器模式</p>
<ul>
<li>提供一种方法顺序访问一个聚合对象中的各个元素，而又不暴露其内部的表示</li>
<li>把游走的任务放在迭代器上，而不是聚合上。这样简化了聚合的接口和实现，也让责任各得其所。</li>
</ul>
</li>
<li><p>迭代器类图</p>
 <!-- ![70.迭代器类图.png](./img/70.迭代器类图.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/70.%E8%BF%AD%E4%BB%A3%E5%99%A8%E7%B1%BB%E5%9B%BE.png" class="" title="70.迭代器类图.png"></li>
<li><p>餐厅例子</p>
<ul>
<li><p>餐厅类图</p>
  <!-- ![71.餐厅例子.png](./img/71.餐厅例子.png) -->
  <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/71.%E9%A4%90%E5%8E%85%E4%BE%8B%E5%AD%90.png" class="" title="71.餐厅例子.png"></li>
<li><p>菜单接口和服务员代码</p>
  <!-- ![74.菜单接口和服务员.png](./img/74.菜单接口和服务员.png) -->
  <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/74.%E8%8F%9C%E5%8D%95%E6%8E%A5%E5%8F%A3%E5%92%8C%E6%9C%8D%E5%8A%A1%E5%91%98.png" class="" title="74.菜单接口和服务员.png"></li>
<li><p>具体菜单代码</p>
  <!-- ![72.具体菜单.png](./img/72.具体菜单.png) -->
  <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/72.%E5%85%B7%E4%BD%93%E8%8F%9C%E5%8D%95.png" class="" title="72.具体菜单.png">
</li>
<li><p>迭代器代码</p>
  <!-- ![73.迭代器代码.png](./img/73.迭代器代码.png) -->
  <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/73.%E8%BF%AD%E4%BB%A3%E5%99%A8%E4%BB%A3%E7%A0%81.png" class="" title="73.迭代器代码.png">

</li>
</ul>
</li>
</ol>
<h3 id="2-单一责任"><a href="#2-单一责任" class="headerlink" title="2. 单一责任"></a>2. 单一责任</h3><ul>
<li>若果我们在聚合内部实现相关的操作和遍历的方法，也就是不用迭代器，在集合内部写next()方法，会如何？<ul>
<li>这样我们运行一个类不但要完成自己的事情(管理某种聚合)，还要负担更多的责任(例如遍历)时，我们就给这个类两个变化的原因。</li>
<li>如果这个集合改变的话，这个类也必须改变，如果我们遍历的方式改变的话，这个类也必须跟着改变。所以，“改变”又成了我们设计原则的中心</li>
</ul>
</li>
<li>设计原则：一个类应该只有一个引起变化的原因<ul>
<li>我们要避免类内的改变，因为修改代码很容易造成许多潜在的错误。</li>
</ul>
</li>
<li>内聚<ul>
<li>它用来度量一个类或模块紧密地达到单一目的或责任</li>
<li>当一个模块或一个类被设计成只支持一组相关的功能时，我们说它具有高内聚</li>
</ul>
</li>
</ul>
<h3 id="3-定义组合模式"><a href="#3-定义组合模式" class="headerlink" title="3. 定义组合模式"></a>3. 定义组合模式</h3><ol>
<li><p>组合模式</p>
<ul>
<li>允许你将对象组合成树形结构来表现“整体/部分”层次结构。组合能让客户以一致的方式处理个别对象以及对象组合</li>
<li>使用组合结构，我们能把相同的操作应用在组合和个别对象上。换句话说，在大多数情况下，我们可以忽略对象组合和个体对象之间的差别。</li>
</ul>
</li>
<li><p>组合模式类图</p>
 <!-- ![75.组合模式类图.png](./img/75.组合模式类图.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/75.%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F%E7%B1%BB%E5%9B%BE.png" class="" title="75.组合模式类图.png"></li>
<li><p>利用组合设计菜单</p>
 <!-- ![76.组合菜单.png](./img/76.组合菜单.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/76.%E7%BB%84%E5%90%88%E8%8F%9C%E5%8D%95.png" class="" title="76.组合菜单.png"></li>
<li><p>实现菜单组件</p>
 <!-- ![77.实现菜单组件.png](./img/77.实现菜单组件.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/77.%E5%AE%9E%E7%8E%B0%E8%8F%9C%E5%8D%95%E7%BB%84%E4%BB%B6.png" class="" title="77.实现菜单组件.png"></li>
<li><p>实现菜单项</p>
 <!-- ![78.实现菜单项.png](./img/78.实现菜单项.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/78.%E5%AE%9E%E7%8E%B0%E8%8F%9C%E5%8D%95%E9%A1%B9.png" class="" title="78.实现菜单项.png"></li>
<li><p>实现组合菜单</p>
 <!-- ![79.实现组合菜单.png](./img/79.实现组合菜单.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/79.%E5%AE%9E%E7%8E%B0%E7%BB%84%E5%90%88%E8%8F%9C%E5%8D%95.png" class="" title="79.实现组合菜单.png"></li>
<li><p>修改print</p>
 <!-- ![80.修改print.png](./img/80.修改print.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/80.%E4%BF%AE%E6%94%B9print.png" class="" title="80.修改print.png"></li>
<li><p>服务员</p>
 <!-- ![81.服务员.png](./img/81.服务员.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/81.%E6%9C%8D%E5%8A%A1%E5%91%98.png" class="" title="81.服务员.png"></li>
<li><p>菜单结构</p>
 <!-- ![82.菜单结构.png](./img/82.菜单结构.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/82.%E8%8F%9C%E5%8D%95%E7%BB%93%E6%9E%84.png" class="" title="82.菜单结构.png"></li>
<li><p>测试</p>
<!-- ![83.菜单测试.png](./img/83.菜单测试.png) -->
<img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/83.%E8%8F%9C%E5%8D%95%E6%B5%8B%E8%AF%95.png" class="" title="83.菜单测试.png">
<!-- ![84.执行结果.png](./img/84.执行结果.png) -->
<img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/84.%E6%89%A7%E8%A1%8C%E7%BB%93%E6%9E%9C.png" class="" title="84.执行结果.png"></li>
<li><p>透明性</p>
<ul>
<li>组合模式以单一责任设计原则换取透明性(transparency)</li>
<li>透明性：通过让组件接口同时包含一些管理子节点和叶节点的操作，客户可以将组合和叶节点一视同仁。也就是说一个元素究竟是组合还是叶节点，对客户是透明的。</li>
</ul>
</li>
<li><p>为组合创建迭代器</p>
<!-- ![85.组合迭代器.png](./img/85.组合迭代器.png) -->
<img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/85.%E7%BB%84%E5%90%88%E8%BF%AD%E4%BB%A3%E5%99%A8.png" class="" title="85.组合迭代器.png"></li>
<li><p>组合迭代器-递归</p>
<!-- ![86.递归迭代器.png](./img/86.递归迭代器.png) -->
<img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/86.%E9%80%92%E5%BD%92%E8%BF%AD%E4%BB%A3%E5%99%A8.png" class="" title="86.递归迭代器.png"></li>
<li><p>空迭代器</p>
<ul>
<li>在上述例子中，菜单项没有什么可以遍历的，那如何实现菜单项的createIterator()方法？有两种办法<ol>
<li>返会null,但这么做，就需要在客户代码中用条件语句判断是否为null</li>
<li>返回一个迭代器，而这个迭代器的hasNext()永远为false,这就是空迭代器<!-- ![87.空迭代器.png](./img/87.空迭代器.png) -->
<img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/87.%E7%A9%BA%E8%BF%AD%E4%BB%A3%E5%99%A8.png" class="" title="87.空迭代器.png"></li>
</ol>
</li>
</ul>
</li>
<li><p>组合迭代器测试-返回素食菜单</p>
<!-- ![88.返回素食菜单.png](./img/88.返回素食菜单.png) -->
<img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/88.%E8%BF%94%E5%9B%9E%E7%B4%A0%E9%A3%9F%E8%8F%9C%E5%8D%95.png" class="" title="88.返回素食菜单.png"></li>
<li><p>异常处理菜单没有isVegetarian方法(菜单项有)</p>
<!-- ![89.异常处理菜单.png](./img/89.异常处理菜单.png) -->
<img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/89.%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E8%8F%9C%E5%8D%95.png" class="" title="89.异常处理菜单.png">

</li>
</ol>
<h3 id="4-总结"><a href="#4-总结" class="headerlink" title="4. 总结"></a>4. 总结</h3><ul>
<li>OO基础<ol>
<li>抽象</li>
<li>封装</li>
<li>多态</li>
<li>继承</li>
</ol>
</li>
<li>OO原则<ol>
<li>封装变化。</li>
<li>多用组合,少用继承。</li>
<li>针对接口编程，不针对实现编程。</li>
<li>为交互对象之间的松耦合设计而努力</li>
<li>对扩展开放，对修改关闭</li>
<li>依赖抽象，不要依赖具体类</li>
<li>只和朋友交流</li>
<li>别找我，我会找你</li>
<li>类应该只有一个改变的理由</li>
</ol>
</li>
<li>OO模式<ul>
<li>迭代器模式：提供一种方法顺序访问一个聚合对象中的各个元素，而又不暴露其内部的表示</li>
<li>组合模式：允许你将对象组合成树形结构来表现“整体/部分”层次结构。组合能让客户以一致的方式处理个别对象以及对象组合</li>
</ul>
</li>
</ul>
<h3 id="5-要点"><a href="#5-要点" class="headerlink" title="5. 要点"></a>5. 要点</h3><ol>
<li>迭代器允许访问聚合的元素，而不需要暴露它的内部结构</li>
<li>迭代器将遍历聚合的工作封装进一个对象中</li>
<li>当使用迭代器的时候，我们依赖聚合提供遍历</li>
<li>迭代器提供了一个通用的接口，让我们遍历聚合的项，当我们编码使用聚合的项时，就可以使用多态机制</li>
<li>我们应该努力让一个类只分配一个责任</li>
<li>组合模式提供一个结构，可同时包容个别对象和组合对象</li>
<li>组合模式允许客户对个别对象以及组合对象一视同仁</li>
<li>组合结构内的任意对象称为组件，组件可以使组合，也可以是叶节点</li>
<li>在实现组合模式时，有许多设计上的这种。要根据需要平衡安全性和透明性</li>
</ol>
<h1 id="十、状态模式，事物的状态"><a href="#十、状态模式，事物的状态" class="headerlink" title="十、状态模式，事物的状态"></a>十、状态模式，事物的状态</h1><h3 id="1-定义状态模式"><a href="#1-定义状态模式" class="headerlink" title="1. 定义状态模式"></a>1. 定义状态模式</h3><ol>
<li>状态模式<ul>
<li>允许对象在内部状态改变时改变它的行为，对象看起来好像修改了它的类</li>
</ul>
</li>
<li>类图 <!-- ![90.状态模式类图.png](./img/90.状态模式类图.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/90.%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F%E7%B1%BB%E5%9B%BE.png" class="" title="90.状态模式类图.png"></li>
<li>策略模式的类图和这个一样<ul>
<li>对于状态模式：context的客户对与状态对象了解不多，甚至根本是浑然不觉。</li>
<li>对于策略模式：客户通常主动指定Context所要组合的策略对象是哪一个。通常只有一个最适当的策略对象，而状态模式的对象经常改变</li>
</ul>
</li>
</ol>
<h3 id="2-糖果例子"><a href="#2-糖果例子" class="headerlink" title="2. 糖果例子"></a>2. 糖果例子</h3><ol>
<li>状态转换图 <!-- ![91.糖果状态转换图.png](./img/91.糖果状态转换图.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/91.%E7%B3%96%E6%9E%9C%E7%8A%B6%E6%80%81%E8%BD%AC%E6%8D%A2%E5%9B%BE.png" class="" title="91.糖果状态转换图.png"></li>
<li>定义状态接口和类 <!-- ![92.状态接口和类.png](./img/92.状态接口和类.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/92.%E7%8A%B6%E6%80%81%E6%8E%A5%E5%8F%A3%E5%92%8C%E7%B1%BB.png" class="" title="92.状态接口和类.png"></li>
<li>未投币状态 <!-- ![93.未投币状态.png](./img/93.未投币状态.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/93.%E6%9C%AA%E6%8A%95%E5%B8%81%E7%8A%B6%E6%80%81.png" class="" title="93.未投币状态.png"></li>
<li>完整的糖果机类 <!-- ![94.糖果机类.png](./img/94.糖果机类.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/94.%E7%B3%96%E6%9E%9C%E6%9C%BA%E7%B1%BB.png" class="" title="94.糖果机类.png"></li>
<li>加入奖励机制，有10%概率弹出两个糖果<ul>
<li>加入winnerState状态  <!-- ![95.加入winner.png](./img/95.加入winner.png) -->
  <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/95.%E5%8A%A0%E5%85%A5winner.png" class="" title="95.加入winner.png"></li>
<li>实现winnerState  <!-- ![96.实现winner.png](./img/96.实现winner.png) -->
  <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/96.%E5%AE%9E%E7%8E%B0winner.png" class="" title="96.实现winner.png"></li>
<li>在转动曲柄状态中实现随机数  <!-- ![97.加入随机数.png](./img/97.加入随机数.png) -->
  <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/97.%E5%8A%A0%E5%85%A5%E9%9A%8F%E6%9C%BA%E6%95%B0.png" class="" title="97.加入随机数.png"></li>
</ul>
</li>
<li>测试 <!-- ![98.测试.png](./img/98.测试.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/98.%E6%B5%8B%E8%AF%95.png" class="" title="98.测试.png">

</li>
</ol>
<h3 id="3-模式对比"><a href="#3-模式对比" class="headerlink" title="3. 模式对比"></a>3. 模式对比</h3><ol>
<li>状态：封装基于状态的行为，并将行为委托到当前状态</li>
<li>策略：将可以互换的行为封装起来，然后使用委托的方法，决定使用哪一个行为</li>
<li>模板方法：由子类决定如何实现算法中的某些步骤</li>
</ol>
<h3 id="4-总结-1"><a href="#4-总结-1" class="headerlink" title="4. 总结"></a>4. 总结</h3><ul>
<li>OO基础<ol>
<li>抽象</li>
<li>封装</li>
<li>多态</li>
<li>继承</li>
</ol>
</li>
<li>OO原则<ol>
<li>封装变化。</li>
<li>多用组合,少用继承。</li>
<li>针对接口编程，不针对实现编程。</li>
<li>为交互对象之间的松耦合设计而努力</li>
<li>对扩展开放，对修改关闭</li>
<li>依赖抽象，不要依赖具体类</li>
<li>只和朋友交流</li>
<li>别找我，我会找你</li>
<li>类应该只有一个改变的理由</li>
</ol>
</li>
<li>OO模式<ul>
<li>状态模式：允许对象在内部状态改变时改变它的行为，对象看起来好像修改了它的类</li>
</ul>
</li>
</ul>
<h3 id="5-要点-1"><a href="#5-要点-1" class="headerlink" title="5. 要点"></a>5. 要点</h3><ol>
<li>状态模式允许一个对象基于内部状态而拥有不同的行为</li>
<li>和程序状态机(PSM)不同，状态模式用类代表状态</li>
<li>Context会将行为委托给当前状态对象</li>
<li>通过将每个状态封装进一个类，我们把以后需要做的任何改变局部化了</li>
<li>状态模式和策略模式有相同的类图，但是他们的意图不同</li>
<li>策略模式通常会用行为或算法来配置Context类</li>
<li>状态模式允许Context随着状态的改变而改变行为</li>
<li>状态转换可以由State类或Context类控制</li>
<li>使用状态模式通常会导致设计中类的数目大量增加</li>
<li>状态类可以被多个Context实例共享</li>
</ol>
<h1 id="十一、代理模式，控制对象访问"><a href="#十一、代理模式，控制对象访问" class="headerlink" title="十一、代理模式，控制对象访问"></a>十一、代理模式，控制对象访问</h1><h3 id="1-远程代理角色"><a href="#1-远程代理角色" class="headerlink" title="1. 远程代理角色"></a>1. 远程代理角色</h3><ol>
<li>糖果机的远程代理 <!-- ![99.糖果机远程代理.png](./img/99.糖果机远程代理.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/99.%E7%B3%96%E6%9E%9C%E6%9C%BA%E8%BF%9C%E7%A8%8B%E4%BB%A3%E7%90%86.png" class="" title="99.糖果机远程代理.png"></li>
<li>客户对象所做的就像是在做远程方法调用，但其实只是调用本地堆中的“代理”对象上的 方法，再由代理处理所有网络通信的低层细节。</li>
</ol>
<h3 id="2-定义代理模式"><a href="#2-定义代理模式" class="headerlink" title="2. 定义代理模式"></a>2. 定义代理模式</h3><ol>
<li>代理模式<ul>
<li>为另一个对象提供一个替身或占位符以控制对这个对象的访问</li>
<li>被代理的对象可以是远程的对象、创建开销大的对象或需要安全控制的对象</li>
</ul>
</li>
<li>几种代理控制访问的方式<ol>
<li>远程代理控制访问远程对象</li>
<li>虚拟代理控制访问创建开销大的资源</li>
<li>保护代理基于权限控制对资源的访问</li>
</ol>
</li>
<li>类图 <!-- ![101.类图.png](./img/101.类图.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/101.%E7%B1%BB%E5%9B%BE.png" class="" title="101.类图.png">

</li>
</ol>
<h3 id="3-java-RMI-远程代理"><a href="#3-java-RMI-远程代理" class="headerlink" title="3. java RMI(远程代理)"></a>3. java RMI(远程代理)</h3><ol>
<li>远程代理可以作为另一个JVM上对象的本地代表。调用代理的方法，会被代理利用网络转发到远程执行，并且结果会通过网络返回给代理，再由代理将结果转给客户。</li>
<li>远程方法 <!-- ![100.远程方法.png](./img/100.远程方法.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/100.%E8%BF%9C%E7%A8%8B%E6%96%B9%E6%B3%95.png" class="" title="100.远程方法.png"></li>
<li>方法调用过程<ol>
<li>客户对象调用客户辅助对象的doThing()方法</li>
<li>客户辅助对象打包调用信息(变量、方法名称等)，然后通过网络将它运给服务辅助对象</li>
<li>服务辅助对象把来自客户辅助对象的信息解包，找出被调用的方法(以及在哪个对象内)，然后调用真正的服务对象上的真正方法。</li>
<li>服务对象上的方法被调用，将结果返回给服务辅助对象</li>
<li>服务辅助对象把调用的返回信息打包，然后通过网络运回给客户辅助对象</li>
<li>客户辅助对象把返回值解包，返回给客户对象。对于客户来说，这是完全透明的。</li>
</ol>
</li>
<li>java RMI概观<ul>
<li>RMI提供了客户辅助对象和服务辅助对象，好处是不必亲自写任何网络或IO代码。客户程序调用远程方法(即真正的服务所在)就和在运行在客户自己的本地JVM上对对象进行正常方法调用一样</li>
<li>RMI将客户辅助对象称为stub(桩)，服务辅助对象称为skeleton(骨架)  <!-- ![110.RMI.png](./img/110.RMI.png) -->
  <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/110.RMI.png" class="" title="110.RMI.png"></li>
</ul>
</li>
<li>制作远程服务步骤<ol>
<li>制作远程接口(myserver.java) <!-- ![111.步骤1.png](./img/111.步骤1.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/111.%E6%AD%A5%E9%AA%A41.png" class="" title="111.步骤1.png"></li>
<li>制作远程实现(MyServiceImp1.java),就是实现方法 <!-- ![112.步骤2.png](./img/112.步骤2.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/112.%E6%AD%A5%E9%AA%A42.png" class="" title="112.步骤2.png"></li>
<li>利用rmic产生的stub和skeleton(java5以后不用显式声明skeleton)<ul>
<li>rmic MyServiceImp1    ,rmic是一个工具<!-- ![113.步骤3.png](./img/113.步骤3.png) -->
<img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/113.%E6%AD%A5%E9%AA%A43.png" class="" title="113.步骤3.png"></li>
</ul>
</li>
<li>启动RMI registry(rmiregistry)<ul>
<li>remireistry就像是电话簿，客户可以从中查到代理的位置(也就是客户的stub helper对象)<!-- ![114.步骤4.png](./img/114.步骤4.png) -->
<img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/114.%E6%AD%A5%E9%AA%A44.png" class="" title="114.步骤4.png"></li>
</ul>
</li>
<li>开始远程服务<ul>
<li>java MyServiceImp1<!-- ![115.步骤5.png](./img/115.步骤5.png) -->
<img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/115.%E6%AD%A5%E9%AA%A45.png" class="" title="115.步骤5.png"></li>
</ul>
</li>
</ol>
</li>
<li>服务器端完整代码<ul>
<li>远程接口  <!-- ![116.远程接口.png](./img/116.远程接口.png) -->
  <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/116.%E8%BF%9C%E7%A8%8B%E6%8E%A5%E5%8F%A3.png" class="" title="116.远程接口.png"></li>
<li>远程服务(实现):  <!-- ![117.远程实现.png](./img/117.远程实现.png) -->
  <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/117.%E8%BF%9C%E7%A8%8B%E5%AE%9E%E7%8E%B0.png" class="" title="117.远程实现.png"></li>
</ul>
</li>
<li>客户端完整代码 <!-- ![118.客户端完整代码.png](./img/118.客户端完整代码.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/118.%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81.png" class="" title="118.客户端完整代码.png"></li>
<li>使用RMI常犯的错误<ol>
<li>忘了在启动服务之前先启动rmiregistry(要用Name.rebind()注册服务，rmiregistry必须是运行的)。</li>
<li>忘了让变量和返回值的类型成为可序列化的类型(这种错误无法在编译期发现，只会在运行时发现)</li>
<li>忘了给客户提供stub类</li>
</ol>
</li>
</ol>
<h3 id="4-虚拟代理-Virtual-Proxy"><a href="#4-虚拟代理-Virtual-Proxy" class="headerlink" title="4. 虚拟代理(Virtual Proxy)"></a>4. 虚拟代理(Virtual Proxy)</h3><ol>
<li>虚拟代理作为创建开销大的对象的代表。虚拟代理经常直到我们真正需要你个对象的时候才创建它。当对象在创建前和创建中时，由虚拟代理来扮演对象的替身。对象创建后，代理就会将请求直接委托给对象。 <!-- ![102.虚拟代理.png](./img/102.虚拟代理.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/102.%E8%99%9A%E6%8B%9F%E4%BB%A3%E7%90%86.png" class="" title="102.虚拟代理.png"></li>
<li>显示CD封面的例子<ul>
<li>在加载图像的时候，先由代理提示，等图像加载完再显示图像</li>
<li>设计CD封面虚拟代理  <!-- ![103.CD封面.png](./img/103.CD封面.png) -->
  <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/103.CD%E5%B0%81%E9%9D%A2.png" class="" title="103.CD封面.png"></li>
<li>ImageProxy工作流程  <!-- ![104.工作流程.png](./img/104.工作流程.png) -->
  <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/104.%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B.png" class="" title="104.工作流程.png"></li>
<li>编写ImageProxy  <!-- ![105.编写img.png](./img/105.编写img.png) -->
  <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/105.%E7%BC%96%E5%86%99img.png" class="" title="105.编写img.png">
  <!-- ![106.paint.png](./img/106.paint.png) -->
  <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/106.paint.png" class="" title="106.paint.png">
  <!-- ![107.细节.png](./img/107.细节.png) -->
  <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/107.%E7%BB%86%E8%8A%82.png" class="" title="107.细节.png"></li>
</ul>
</li>
<li>测试 <!-- ![108.测试.png](./img/108.测试.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/108.%E6%B5%8B%E8%AF%95.png" class="" title="108.测试.png">

</li>
</ol>
<h3 id="5-保护代理"><a href="#5-保护代理" class="headerlink" title="5. 保护代理"></a>5. 保护代理</h3><ol>
<li>动态代理<ul>
<li>Java在java.lang.reflect包中有自己的代理支持，利用这个包可以在运行时动态地创建一个代理类，实现一个或多个接口，并将方法的调用转发到你所指定的类。因为实际的代理类是在运行时创建的，我们称这个Java技术为:动态代理。  <!-- ![109.动态代理.png](./img/109.动态代理.png) -->
  <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/109.%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86.png" class="" title="109.动态代理.png"></li>
<li>因为Java已经为你创建了Proxy类，所以你需要有办法来告诉Proxy类你要做什么。你不能像以前一样把代码放在Proxy类中，因为Proxy不是你直接实现的。代码要放在InvocationHandler中。InvocationHandler的工作是相应代理的任何调用。</li>
</ul>
</li>
<li>使用java包</li>
</ol>
<h3 id="6-模式对比"><a href="#6-模式对比" class="headerlink" title="6. 模式对比"></a>6. 模式对比</h3><ol>
<li>装饰者<ul>
<li>包装另一个对象，并提供额外的行为</li>
</ul>
</li>
<li>外观<ul>
<li>包装许多对象以简化它们的接口</li>
</ul>
</li>
<li>代理<ul>
<li>包装另一个对象，并控制对它的访问</li>
</ul>
</li>
<li>适配器<ul>
<li>包装另一个对象，并提供不同的接口</li>
</ul>
</li>
</ol>
<h3 id="7-其他代理"><a href="#7-其他代理" class="headerlink" title="7. 其他代理"></a>7. 其他代理</h3><ol>
<li>防火墙代理(Firewall Proxy)<ul>
<li>控制网站资源的访问、保护主题免于“坏客户”的侵害</li>
<li>常出没于公司的防火墙系统</li>
</ul>
</li>
<li>智能引用代理(Smart Reference Proxy)<ul>
<li>当主题被引用时，进行额外的动作，例如计算一个对象被引用的次数</li>
</ul>
</li>
<li>缓存代理(Caching Proxy)<ul>
<li>为开销大的运算结果提供暂时存储，以减少计算或网络延迟</li>
<li>常出没于Web服务器代理，以及内容管理和出版系统</li>
</ul>
</li>
<li>同步代理(Synchronization Proxy)<ul>
<li>在多线程的情况下为主题提供安全的访问</li>
<li>出没于JavaSpaces，为分散式环境内的潜在对象集合提供同步访问控制</li>
</ul>
</li>
<li>复杂隐藏代理(Complexity Hiding Proxy)<ul>
<li>用来隐藏一个类的复杂集合的复杂度，并进行访问控制。有时候也称为外观代理(Facade Proxy),这并不难理解。复杂隐藏代理和外观模式是不一样的，因为代理控制访问，而外观模式只提供另一组接口。</li>
</ul>
</li>
<li>写入时复制代理(Copy-On-Write Proxy)<ul>
<li>用来控制对象的复制，方法是延迟对象的复制，直到客户真的需要为止。这是虚拟代理的变体。</li>
<li>例子如java5的CopyOnWriteArraylist</li>
</ul>
</li>
</ol>
<h3 id="8-总结-1"><a href="#8-总结-1" class="headerlink" title="8. 总结"></a>8. 总结</h3><ul>
<li>OO基础<ol>
<li>抽象</li>
<li>封装</li>
<li>多态</li>
<li>继承</li>
</ol>
</li>
<li>OO原则<ol>
<li>封装变化。</li>
<li>多用组合,少用继承。</li>
<li>针对接口编程，不针对实现编程。</li>
<li>为交互对象之间的松耦合设计而努力</li>
<li>对扩展开放，对修改关闭</li>
<li>依赖抽象，不要依赖具体类</li>
<li>只和朋友交流</li>
<li>别找我，我会找你</li>
<li>类应该只有一个改变的理由</li>
</ol>
</li>
<li>OO模式<ul>
<li>代理模式：为另一个对象提供一个替身或占位符以控制对这个对象的访问</li>
</ul>
</li>
</ul>
<h3 id="9-要点-1"><a href="#9-要点-1" class="headerlink" title="9. 要点"></a>9. 要点</h3><ol>
<li>代理模式为另一个对象提供代表，以便控制客户对对象的访问，管理访问的方式有许多种</li>
<li>远程道理管理客户和远程对象之间的交互</li>
<li>虚拟代理控制访问实例化开销大的对象</li>
<li>保护代理基于调用者控制对象方法的访问</li>
<li>代理模式有许多变体，例如：缓存代理、同步带利、防火墙代理和写入时复制代理</li>
<li>代理在结构上类似装饰者，但是目的不同</li>
<li>装饰者模式为对象加上行为，而代理则是控制访问</li>
<li>Java内置的代理支持，可以根据需要建立动态代理，并将所有调用分配到所选的处理器</li>
<li>就和其他的包装者(wrapper)一样，代理会造成你的设计中类的数目增加</li>
</ol>
<h1 id="十二、复合模式，模式中的模式"><a href="#十二、复合模式，模式中的模式" class="headerlink" title="十二、复合模式，模式中的模式"></a>十二、复合模式，模式中的模式</h1><h3 id="1-定义复合模式"><a href="#1-定义复合模式" class="headerlink" title="1. 定义复合模式"></a>1. 定义复合模式</h3><ol>
<li>复合模式<ul>
<li>结合两个或以上的模式，组成一个解决方案，解决一再发生的一般性问题</li>
</ul>
</li>
</ol>
<h3 id="2-鸭子例子"><a href="#2-鸭子例子" class="headerlink" title="2. 鸭子例子"></a>2. 鸭子例子</h3><ol>
<li>都做什么 <!-- ![119.复合例子.png](./img/119.复合例子.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/119.%E5%A4%8D%E5%90%88%E4%BE%8B%E5%AD%90.png" class="" title="119.复合例子.png"></li>
<li>类图 <!-- ![120.复合类图1.png](./img/120.复合类图1.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/120.%E5%A4%8D%E5%90%88%E7%B1%BB%E5%9B%BE1.png" class="" title="120.复合类图1.png">
 <!-- ![121.复合类图2.png](./img/121.复合类图2.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/121.%E5%A4%8D%E5%90%88%E7%B1%BB%E5%9B%BE2.png" class="" title="121.复合类图2.png">

</li>
</ol>
<h3 id="3-复合模式之王-MVC"><a href="#3-复合模式之王-MVC" class="headerlink" title="3. 复合模式之王-MVC"></a>3. 复合模式之王-MVC</h3><ol>
<li>认识MVC <!-- ![122.认识MVC.png](./img/122.认识MVC.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/122.%E8%AE%A4%E8%AF%86MVC.png" class="" title="122.认识MVC.png"></li>
<li>MVC的模式 <!-- ![123.MVC模式.png](./img/123.MVC模式.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/123.MVC%E6%A8%A1%E5%BC%8F.png" class="" title="123.MVC模式.png"></li>
<li>观察者 <!-- ![124.观察者.png](./img/124.观察者.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/124.%E8%A7%82%E5%AF%9F%E8%80%85.png" class="" title="124.观察者.png"></li>
<li>策略 <!-- ![125.策略.png](./img/125.策略.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/125.%E7%AD%96%E7%95%A5.png" class="" title="125.策略.png"></li>
<li>组合 <!-- ![126.组合.png](./img/126.组合.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/126.%E7%BB%84%E5%90%88.png" class="" title="126.组合.png">

</li>
</ol>
<h3 id="4-一个控制节拍的例子"><a href="#4-一个控制节拍的例子" class="headerlink" title="4. 一个控制节拍的例子"></a>4. 一个控制节拍的例子</h3><ol>
<li><p>设计</p>
 <!-- ![127.设计.png](./img/127.设计.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/127.%E8%AE%BE%E8%AE%A1.png" class="" title="127.设计.png"></li>
<li><p>MVC</p>
 <!-- ![128.MVC.png](./img/128.MVC.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/128.MVC.png" class="" title="128.MVC.png"></li>
<li><p>Model</p>
<ul>
<li>Model接口  <!-- ![129.Model接口.png](./img/129.Model接口.png) -->
  <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/129.Model%E6%8E%A5%E5%8F%A3.png" class="" title="129.Model接口.png"></li>
<li>Model  <!-- ![130.Model.png](./img/130.Model.png) -->
  <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/130.Model.png" class="" title="130.Model.png"></li>
</ul>
</li>
<li><p>视图</p>
<ul>
<li>视图分为两部分  <!-- ![131.视图.png](./img/131.视图.png) -->
  <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/131.%E8%A7%86%E5%9B%BE.png" class="" title="131.视图.png"></li>
<li>状态视图代码  <!-- ![132.状态视图.png](./img/132.状态视图.png) -->
  <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/132.%E7%8A%B6%E6%80%81%E8%A7%86%E5%9B%BE.png" class="" title="132.状态视图.png"></li>
<li>控制视图代码  <!-- ![133.控制视图.png](./img/133.控制视图.png) -->
  <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/133.%E6%8E%A7%E5%88%B6%E8%A7%86%E5%9B%BE.png" class="" title="133.控制视图.png"></li>
<li>这虽然是两个不同的界面，但在一个类中</li>
</ul>
</li>
<li><p>控制器</p>
<ul>
<li>接口  <!-- ![134.控制器接口.png](./img/134.控制器接口.png) -->
  <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/134.%E6%8E%A7%E5%88%B6%E5%99%A8%E6%8E%A5%E5%8F%A3.png" class="" title="134.控制器接口.png"></li>
<li>实现  <!-- ![135.控制器实现.png](./img/135.控制器实现.png) -->
  <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/135.%E6%8E%A7%E5%88%B6%E5%99%A8%E5%AE%9E%E7%8E%B0.png" class="" title="135.控制器实现.png"></li>
</ul>
</li>
<li><p>运行</p>
 <!-- ![136.运行.png](./img/136.运行.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/136.%E8%BF%90%E8%A1%8C.png" class="" title="136.运行.png">
</li>
<li><p>适配心跳检测</p>
<ol>
<li>写适配器 <!-- ![137.心跳适配.png](./img/137.心跳适配.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/137.%E5%BF%83%E8%B7%B3%E9%80%82%E9%85%8D.png" class="" title="137.心跳适配.png"></li>
<li>心跳控制器 <!-- ![138.心跳控制.png](./img/138.心跳控制.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/138.%E5%BF%83%E8%B7%B3%E6%8E%A7%E5%88%B6.png" class="" title="138.心跳控制.png"></li>
<li>测试 <!-- ![139.测试.png](./img/139.测试.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/139.%E6%B5%8B%E8%AF%95.png" class="" title="139.测试.png">

</li>
</ol>
</li>
</ol>
<h3 id="5-总结"><a href="#5-总结" class="headerlink" title="5. 总结"></a>5. 总结</h3><ul>
<li>OO基础<ol>
<li>抽象</li>
<li>封装</li>
<li>多态</li>
<li>继承</li>
</ol>
</li>
<li>OO原则<ol>
<li>封装变化。</li>
<li>多用组合,少用继承。</li>
<li>针对接口编程，不针对实现编程。</li>
<li>为交互对象之间的松耦合设计而努力</li>
<li>对扩展开放，对修改关闭</li>
<li>依赖抽象，不要依赖具体类</li>
<li>只和朋友交流</li>
<li>别找我，我会找你</li>
<li>类应该只有一个改变的理由</li>
</ol>
</li>
<li>OO模式<ul>
<li>复合模式：结合两个或以上的模式，组成一个解决方案，解决一再发生的一般性问题</li>
</ul>
</li>
</ul>
<h3 id="6-要点"><a href="#6-要点" class="headerlink" title="6. 要点"></a>6. 要点</h3><ol>
<li>MVC是复合模式，结合了观察者模式、策略模式和组合模式</li>
<li>模型使用观察者模式，以便观察者更新，同时保持两者之间解耦</li>
<li>控制器是视图的策略，视图可以使用不同的控制器实现，得到不同的行为</li>
<li>视图使用组合模式实现用户界面，用户界面通常组合了嵌套的组件，像面板、框架和按钮</li>
<li>这些模式携手合作，把MVC模型的三层解耦，这样可以保持设计干净又有弹性</li>
<li>适配器模式用来将新的模型适配成已有的视图和控制器</li>
<li>Model2是MVC在Web上的应用</li>
<li>在Model2中，控制器实现成Servlet，而JSP/HTML实现视图</li>
</ol>
<h1 id="十三、与设计模式相处，真实世界中的模式"><a href="#十三、与设计模式相处，真实世界中的模式" class="headerlink" title="十三、与设计模式相处，真实世界中的模式"></a>十三、与设计模式相处，真实世界中的模式</h1><h3 id="1-定义设计模式"><a href="#1-定义设计模式" class="headerlink" title="1. 定义设计模式"></a>1. 定义设计模式</h3><ol>
<li>模式是在某情境(context)下，针对某问题的某种解决方案</li>
</ol>
<h3 id="2-模式总结"><a href="#2-模式总结" class="headerlink" title="2. 模式总结"></a>2. 模式总结</h3><ol>
<li>策略:封装可以互换的行为，并用委托来决定要使用哪个</li>
<li>状态：封装基于状态的行为，并用委托在行为之间切换</li>
<li>装饰者：包装一个对象，以提供新的行为</li>
<li>外观：简化一群类的接口</li>
<li>迭代器：在对象的集合之中游走，而不暴露集合的实现</li>
<li>适配器：封装对象，并提供不同的接口</li>
<li>代理：包装对象，以控制对对象的访问</li>
<li>观察者：让对象能够在状态改变时被通知</li>
<li>工厂方法：由子类决定要创建的具体类是哪一个</li>
<li>抽象工厂：允许客户创建对象的家族，而无需指定他们的具体类</li>
<li>组合：客户用一致的方式处理对象集合和单个对象</li>
<li>单件：确保有且只有一个对象被创建</li>
<li>命令：封装请求成为对象</li>
<li>模板方法：由子类决定如何实现一个算法中的步骤</li>
</ol>
<h3 id="3-模式分类"><a href="#3-模式分类" class="headerlink" title="3. 模式分类"></a>3. 模式分类</h3><ol>
<li><p>创建型</p>
</li>
<li><p>行为型</p>
</li>
<li><p>结构型</p>
 <!-- ![140.模式分类.png](./img/140.模式分类.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/140.%E6%A8%A1%E5%BC%8F%E5%88%86%E7%B1%BB.png" class="" title="140.模式分类.png">
</li>
<li><p>模式所处理的是类还是对象</p>
 <!-- ![141.类与对象.png](./img/141.类与对象.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/141.%E7%B1%BB%E4%B8%8E%E5%AF%B9%E8%B1%A1.png" class="" title="141.类与对象.png">

</li>
</ol>
<h3 id="4-用模式思考"><a href="#4-用模式思考" class="headerlink" title="4. 用模式思考"></a>4. 用模式思考</h3><ol>
<li>保持简单</li>
<li>设计模式并非万能</li>
<li>需要知道何时需要模式</li>
<li>重构的时间就是模式的时间</li>
<li>去掉不需要的设计模式</li>
<li>如果现在不需要，就别做</li>
</ol>
<h3 id="5-其他模式"><a href="#5-其他模式" class="headerlink" title="5. 其他模式"></a>5. 其他模式</h3><ol>
<li>架构模式<ul>
<li>用来简历生机勃勃的建筑、城镇和城市的架构。这也正是模式开始的地方</li>
<li>例子：从所居住、参观的建筑物中，可以发现它的踪迹</li>
</ul>
</li>
<li>应用模式<ul>
<li>是建立系统级架构的模式。许多多层的架构都属于这一类目</li>
<li>出现在三层架构、客户/服务器系统、及Web中</li>
<li>MVC可算是其中的一种</li>
</ul>
</li>
<li>领域特定模式<ul>
<li>关注特定领域的问题，如并发系统或实时系统</li>
</ul>
</li>
<li>业务流程模式<ul>
<li>描述业务、客户和数据之间的交互，此模式能处理如“如何有效决策并沟通决策”之类的问题</li>
<li>出现在公司的会议室以及项目管理会议中</li>
</ul>
</li>
<li>组织模式<ul>
<li>，描述了人类组织的结构以及实践</li>
</ul>
</li>
<li>用户界面设计模式<ul>
<li>致力于解决设计交互式软件时的问题</li>
<li>被发现在视频游戏设计者、GUJ构造者和制作者附近</li>
</ul>
</li>
</ol>
<h3 id="6-反模式"><a href="#6-反模式" class="headerlink" title="6. 反模式"></a>6. 反模式</h3><ol>
<li>反模式告诉你如何采用一个不好的解决方案解决一个问题</li>
<li>例子：黄金榔头 <!-- ![142.黄金榔头.png](./img/142.黄金榔头.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/142.%E9%BB%84%E9%87%91%E6%A6%94%E5%A4%B4.png" class="" title="142.黄金榔头.png">

</li>
</ol>
<h1 id="十四、剩下的模式"><a href="#十四、剩下的模式" class="headerlink" title="十四、剩下的模式"></a>十四、剩下的模式</h1><h3 id="1-桥接模式-Bridge-Pattern"><a href="#1-桥接模式-Bridge-Pattern" class="headerlink" title="1. 桥接模式(Bridge Pattern)"></a>1. 桥接模式(Bridge Pattern)</h3><ol>
<li>使用桥接模式不只改变你的实现，也改变你的抽象</li>
<li>场景 <!-- ![143.桥接.png](./img/143.桥接.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/143.%E6%A1%A5%E6%8E%A5.png" class="" title="143.桥接.png"></li>
<li>桥接模式类图 <!-- ![144.桥接类图.png](./img/144.桥接类图.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/144.%E6%A1%A5%E6%8E%A5%E7%B1%BB%E5%9B%BE.png" class="" title="144.桥接类图.png">
<ul>
<li>现在有了两个层次结构，有了桥接的存在，就可以独立地改变这两个层次</li>
</ul>
</li>
<li>桥接的优点<ol>
<li>将实现解耦，让它和界面之间不再永久绑定</li>
<li>抽象和实现可以独立扩展，不会影响到对方</li>
<li>对于”具体的抽象类”所做的改变，不会影响到客户</li>
</ol>
</li>
<li>桥接的用途和缺点<ol>
<li>适合使用在需要跨多个平台的图形和窗口系统上</li>
<li>当需要用不同的方式改变接口和实现时，你会发现桥接模式很好用</li>
<li>桥接模式的缺点是增加了复杂度</li>
</ol>
</li>
</ol>
<h3 id="2-生成器模式-Builder-Pattern"><a href="#2-生成器模式-Builder-Pattern" class="headerlink" title="2. 生成器模式(Builder Pattern)"></a>2. 生成器模式(Builder Pattern)</h3><ol>
<li>使用生成器封装一个产品的构造过程，并允许按步骤构造</li>
<li>场景 <!-- ![145.生成器主题.png](./img/145.生成器主题.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/145.%E7%94%9F%E6%88%90%E5%99%A8%E4%B8%BB%E9%A2%98.png" class="" title="145.生成器主题.png">
<ul>
<li>需要有弹性的设计  <!-- ![146.有弹性.png](./img/146.有弹性.png) -->
  <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/146.%E6%9C%89%E5%BC%B9%E6%80%A7.png" class="" title="146.有弹性.png"></li>
</ul>
</li>
<li>生成器类图 <!-- ![147.生成器类图.png](./img/147.生成器类图.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/147.%E7%94%9F%E6%88%90%E5%99%A8%E7%B1%BB%E5%9B%BE.png" class="" title="147.生成器类图.png"></li>
<li>生成器的优点<ol>
<li>讲一个复杂对象的创建过程封装起来</li>
<li>允许对象通过多个步骤来创建，并且可以改变过程(这和只有一个步骤的工厂模式不同)</li>
<li>向客户隐藏产品内部的表现</li>
<li>产品的实现可以被替换，因为客户只看到一个抽象的接口</li>
</ol>
</li>
<li>生成器的用途和缺点<ol>
<li>经常被用来创建组合结构</li>
<li>与工厂模式相比，采用生成器模式创建对象的客户，需要具备更多的领域知识</li>
</ol>
</li>
</ol>
<h3 id="3-责任链模式-Chain-of-Responsibility-Pattern"><a href="#3-责任链模式-Chain-of-Responsibility-Pattern" class="headerlink" title="3. 责任链模式(Chain of Responsibility Pattern)"></a>3. 责任链模式(Chain of Responsibility Pattern)</h3><ol>
<li><p>当你想要让一个以上的对象有机会能够处理某个请求的时候，就是用责任链模式</p>
</li>
<li><p>场景</p>
 <!-- ![148.场景.png](./img/148.场景.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/148.%E5%9C%BA%E6%99%AF.png" class="" title="148.场景.png"></li>
<li><p>类图</p>
<ul>
<li>通过责任链模式，可以为某个请求创建一个对象链。每个对象依序检查此请求，并对其进行处理，或者将它传给链中的下一个对象<!-- ![149.责任链.png](./img/149.责任链.png) -->
<img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/149.%E8%B4%A3%E4%BB%BB%E9%93%BE.png" class="" title="149.责任链.png"></li>
</ul>
</li>
<li><p>责任链优点</p>
<ol>
<li>将请求的发送者和接收者解耦</li>
<li>可以简化你的对象，因为他不需要知道链的结构</li>
<li>通过改变链内的成员或调动它们的次序，允许你动态地新增或者删除责任</li>
</ol>
</li>
<li><p>责任链的用途和缺点</p>
<ol>
<li>经常被使用在窗口系统中，处理鼠标和键盘之类的事件</li>
<li>并不保证请求一定会被执行；如果没有任何对象处理它的话，他可能会落到链尾之外(这可以是有点也可以是缺点)</li>
<li>可能不容易观察运行时的特征，有碍于除错</li>
</ol>
</li>
</ol>
<h3 id="4-蝇量模式-Flyweight-Pattern"><a href="#4-蝇量模式-Flyweight-Pattern" class="headerlink" title="4. 蝇量模式(Flyweight Pattern)"></a>4. 蝇量模式(Flyweight Pattern)</h3><ol>
<li><p>如想让某个类的一个实例能用来提供许多”虚拟实例”，就使用蝇量模式</p>
</li>
<li><p>场景</p>
 <!-- ![150.场景.png](./img/150.场景.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/150.%E5%9C%BA%E6%99%AF.png" class="" title="150.场景.png"></li>
<li><p>类图</p>
<ul>
<li>不用上述做法，只用一个树实例和一个客户对象来维护”所有”树的状态。这就是蝇量模式<!-- ![151.蝇量.png](./img/151.蝇量.png) -->
<img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/151.%E8%9D%87%E9%87%8F.png" class="" title="151.蝇量.png"></li>
</ul>
</li>
<li><p>优点</p>
<ol>
<li>减少运行时对象实例的个数，节省内存</li>
<li>将许多”虚拟”对象的状态集中管理</li>
</ol>
</li>
<li><p>用途和缺点<br> 1.当一个类有许多的实例，而这些实例能被同一方法控制的时候，我们就可以使用蝇量模式</p>
<ol start="2">
<li>蝇量模式的缺点在于，一旦你实现了它，那么单个的逻辑实例将无法拥有独立而不同的行为 </li>
</ol>
</li>
</ol>
<h3 id="5-解释器模式-Interpreter-Pattern"><a href="#5-解释器模式-Interpreter-Pattern" class="headerlink" title="5. 解释器模式(Interpreter Pattern)"></a>5. 解释器模式(Interpreter Pattern)</h3><ol>
<li>使用解释器模式为语言创建解释器</li>
<li>场景 <!-- ![152.解释器.png](./img/152.解释器.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/152.%E8%A7%A3%E9%87%8A%E5%99%A8.png" class="" title="152.解释器.png"></li>
<li>类图 <!-- ![153.类图.png](./img/153.类图.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/153.%E7%B1%BB%E5%9B%BE.png" class="" title="153.类图.png"></li>
<li>优点<ol>
<li>将每一个语法规则表示成一个类，方便于实现语言</li>
<li>因为语法由许多类表示，所以你可以轻易地改变或扩展此语言</li>
<li>通过在类结构中加入新的方法，可以在解释的同时增加新的行为，例如打印格式的美化或者进行复杂的程序验证</li>
</ol>
</li>
<li>用途和缺点<ol>
<li>当你需要实现一个简单的语言时，使用解释器</li>
<li>当你有一个简单的语法，而且简单比效率更重要时，使用解释器</li>
<li>可以处理脚本语言和编程语言</li>
<li>当语法规则的数目太大时，这个模式可能会变得非常繁杂。在这种情况下，使用解析器/编译器的产生器可能更合适</li>
</ol>
</li>
</ol>
<h3 id="6-中介者模式-Mediator-Pattern"><a href="#6-中介者模式-Mediator-Pattern" class="headerlink" title="6. 中介者模式(Mediator Pattern)"></a>6. 中介者模式(Mediator Pattern)</h3><ol>
<li>集中相关对象之间复杂的沟通和控制方式</li>
<li>场景 <!-- ![154.场景.png](./img/154.场景.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/154.%E5%9C%BA%E6%99%AF.png" class="" title="154.场景.png"></li>
<li>类图 <!-- ![155.中介.png](./img/155.中介.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/155.%E4%B8%AD%E4%BB%8B.png" class="" title="155.中介.png"></li>
<li>优点<ol>
<li>通过将对象彼此解耦，可以增加对象的复用性</li>
<li>通过将控制逻辑集中，可以简化系统维护</li>
<li>可以让对象之间所传递的消息变得简单而且大幅减少</li>
</ol>
</li>
<li>用途和缺点<ol>
<li>中介者常常被用来协调相关的GUI组件</li>
<li>中介者模式的缺点是，如果设计不当，中介者对象本身会变得过于复杂</li>
</ol>
</li>
</ol>
<h3 id="7-备忘录模式-Mementor-Pattern"><a href="#7-备忘录模式-Mementor-Pattern" class="headerlink" title="7. 备忘录模式(Mementor Pattern)"></a>7. 备忘录模式(Mementor Pattern)</h3><ol>
<li><p>当你需要让对象返回之前的状态时(例如“撤销”)，就使用备忘录模式</p>
</li>
<li><p>场景</p>
 <!-- ![156.场景.png](./img/156.场景.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/156.%E5%9C%BA%E6%99%AF.png" class="" title="156.场景.png"></li>
<li><p>类图</p>
 <!-- ![157.类图.png](./img/157.类图.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/157.%E7%B1%BB%E5%9B%BE.png" class="" title="157.类图.png">
</li>
<li><p>优点</p>
<ol>
<li>将被存储的状态放在外面，不要和关键对象混在一起，这可以帮助维护内聚</li>
<li>保持关键对象的数据封装</li>
<li>提供了容易实现的回复能力</li>
</ol>
</li>
<li><p>用途和缺点</p>
<ol>
<li>备忘录用于存储状态</li>
<li>使用备忘录的缺点；存储和恢复状态的过程可能相当耗时</li>
<li>在Java系统中，其实可以考虑使用序列化机制存系统的状态</li>
</ol>
</li>
</ol>
<h3 id="8-原型模式-Prototype-Pattern"><a href="#8-原型模式-Prototype-Pattern" class="headerlink" title="8. 原型模式(Prototype Pattern)"></a>8. 原型模式(Prototype Pattern)</h3><ol>
<li>当创建给定类的实例的过程很昂贵或很复杂时，就使用原型模式</li>
<li>场景 <!-- ![158.场景.png](./img/158.场景.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/158.%E5%9C%BA%E6%99%AF.png" class="" title="158.场景.png"></li>
<li>类图 <!-- ![159.原型.png](./img/159.原型.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/159.%E5%8E%9F%E5%9E%8B.png" class="" title="159.原型.png"></li>
<li>优点<ol>
<li>向客户隐藏制造新实例的复杂性</li>
<li>提供让客户能够产生未知类型对象的选项</li>
<li>在某些环境下，复制对象比创建新对象更有效</li>
</ol>
</li>
<li>用途和缺点<ol>
<li>在一个复杂的类层次中，当系统必须从其中的许多类型创建新对象时，可以考虑原型。</li>
<li>使用原型模式的缺点：对象的复制有时相当复杂</li>
</ol>
</li>
</ol>
<h3 id="9-访问者模式-Visitor-Pattern"><a href="#9-访问者模式-Visitor-Pattern" class="headerlink" title="9. 访问者模式(Visitor Pattern)"></a>9. 访问者模式(Visitor Pattern)</h3><ol>
<li>当你想要为一个对象的组合增加新的能力，且封装并不重要时，就使用访问者模式</li>
<li>场景 <!-- ![160.场景.png](./img/160.场景.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/160.%E5%9C%BA%E6%99%AF.png" class="" title="160.场景.png"></li>
<li>类图 <!-- ![161.访问者.png](./img/161.访问者.png) -->
 <img src="/%E3%80%8Ahead-first%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B/161.%E8%AE%BF%E9%97%AE%E8%80%85.png" class="" title="161.访问者.png"></li>
<li>优点<ol>
<li>允许你对组合结构加入新的操作，而无需改变结构本身</li>
<li>想要加入新的操作，相对容易</li>
<li>访问者所进行的操作，其代码是集中在一起的。</li>
</ol>
</li>
<li>缺点<ol>
<li>当采用访问者模式的时候，就会打破组合类的封装</li>
<li>因为游走的功能牵涉其中，所以对组合结构的改变就更加困难</li>
</ol>
</li>
</ol>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E6%9C%8D%E5%8A%A1%E7%AB%AF/" rel="tag"><i class="fa fa-tag">服务端</i></a>
              <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" rel="tag"><i class="fa fa-tag">设计模式</i></a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/%E3%80%8AHead-First-Java%E3%80%8B/" rel="prev" title="《Head First Java》">
      <i class="fa fa-chevron-left"></i> 《Head First Java》
    </a></div>
      <div class="post-nav-item"></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="valine-comments"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%BD%AE%E9%A1%B6"><span class="nav-text">置顶</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%80%E3%80%81%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%85%A5%E9%97%A8"><span class="nav-text">一、设计模式入门</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E5%85%A5%E9%97%A8%E7%9A%84duck%EF%BC%8C%E6%B3%A8%E6%84%8F%E6%8E%A5%E5%8F%A3%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="nav-text">1. 入门的duck，注意接口的使用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E3%80%8E%E6%9C%89%E4%B8%80%E4%B8%AA%E3%80%8F%E5%8F%AF%E8%83%BD%E6%AF%94%E3%80%8E%E6%98%AF%E4%B8%80%E4%B8%AA%E3%80%8F%E6%9B%B4%E5%A5%BD%E3%80%82"><span class="nav-text">2.『有一个』可能比『是一个』更好。</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F"><span class="nav-text">3. 策略模式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E8%AE%BE%E8%AE%A1%E8%B0%9C%E9%A2%98"><span class="nav-text">4. 设计谜题</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-%E6%9C%AC%E7%AB%A0%E6%80%BB%E7%BB%93"><span class="nav-text">5. 本章总结</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BA%8C%E3%80%81%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F%EF%BC%8C%E8%AE%A9%E4%BD%A0%E7%9A%84%E5%AF%B9%E8%B1%A1%E7%9F%A5%E6%82%89%E7%8E%B0%E7%8A%B6"><span class="nav-text">二、观察者模式，让你的对象知悉现状</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E6%B0%94%E8%B1%A1%E7%9B%91%E6%B5%8B%E5%BA%94%E7%94%A8%E7%9A%84%E6%A6%82%E5%86%B5"><span class="nav-text">1. 气象监测应用的概况</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E4%B8%80%E4%B8%AA%E9%94%99%E8%AF%AF%E7%A4%BA%E8%8C%83"><span class="nav-text">2. 一个错误示范</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E8%AE%A4%E8%AF%86%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F"><span class="nav-text">3. 认识观察者模式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E5%AE%9A%E4%B9%89%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F"><span class="nav-text">4. 定义观察者模式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-%E8%AE%BE%E8%AE%A1%E6%B0%94%E8%B1%A1%E7%AB%99"><span class="nav-text">5. 设计气象站</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-%E6%8B%89%E6%8E%A8"><span class="nav-text">6. 拉推</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-java%E5%86%85%E7%BD%AE%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F%E6%8E%A5%E5%8F%A3"><span class="nav-text">6. java内置观察者模式接口</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-%E6%80%BB%E7%BB%93"><span class="nav-text">7. 总结</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-%E8%A6%81%E7%82%B9"><span class="nav-text">8. 要点</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%89%E3%80%81%E8%A3%85%E9%A5%B0%E8%80%85%E6%A8%A1%E5%BC%8F%EF%BC%8C%E8%A3%85%E9%A5%B0%E5%AF%B9%E8%B1%A1"><span class="nav-text">三、装饰者模式，装饰对象</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E8%AE%A4%E8%AF%86%E8%A3%85%E9%A5%B0%E8%80%85%E6%A8%A1%E5%BC%8F"><span class="nav-text">1. 认识装饰者模式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E4%BB%A5%E8%A3%85%E9%A5%B0%E8%80%85%E6%9E%84%E9%80%A0%E9%A5%AE%E6%96%99%E8%AE%A2%E5%8D%95"><span class="nav-text">2. 以装饰者构造饮料订单</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E5%AE%9A%E4%B9%89%E8%A3%85%E9%A5%B0%E8%80%85%E6%A8%A1%E5%BC%8F"><span class="nav-text">3. 定义装饰者模式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E8%A3%85%E9%A5%B0%E6%88%91%E4%BB%AC%E7%9A%84%E9%A5%AE%E6%96%99"><span class="nav-text">4. 装饰我们的饮料</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-%E7%9C%9F%E5%AE%9E%E4%B8%96%E7%95%8C%E7%9A%84%E8%A3%85%E9%A5%B0%E8%80%85-Java-I-O"><span class="nav-text">5. 真实世界的装饰者:Java I&#x2F;O</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-%E7%BC%96%E5%86%99%E8%87%AA%E5%B7%B1%E7%9A%84Java-I-0%E8%A3%85%E9%A5%B0%E8%80%85"><span class="nav-text">6. 编写自己的Java I&#x2F;0装饰者</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-%E6%80%BB%E7%BB%93-1"><span class="nav-text">7. 总结</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-%E8%A6%81%E7%82%B9-1"><span class="nav-text">8. 要点</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%9B%9B%E3%80%81%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%EF%BC%8C%E7%83%98%E7%83%A4OO%E7%9A%84%E7%B2%BE%E5%8D%8E"><span class="nav-text">四、工厂模式，烘烤OO的精华</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E5%AE%9A%E4%B9%89%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82"><span class="nav-text">1. 定义简单工厂</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F"><span class="nav-text">2. 工厂模式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E5%8F%A6%E4%B8%80%E4%B8%AA%E8%A7%82%E7%82%B9%EF%BC%9A%E5%B9%B3%E8%A1%8C%E7%9A%84%E7%B1%BB%E5%B1%82%E7%BA%A7"><span class="nav-text">3. 另一个观点：平行的类层级</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E5%AE%9A%E4%B9%89%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F"><span class="nav-text">4. 定义工厂方法模式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-%E5%AF%B9%E8%B1%A1%E4%BE%9D%E8%B5%96"><span class="nav-text">5. 对象依赖</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-%E4%BE%9D%E8%B5%96%E5%80%92%E7%BD%AE%E5%8E%9F%E5%88%99"><span class="nav-text">6. 依赖倒置原则</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-%E5%AE%9A%E4%B9%89%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F"><span class="nav-text">7. 定义抽象工厂模式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-%E6%AF%94%E8%BE%83%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E5%92%8C%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82"><span class="nav-text">8. 比较工厂方法和抽象工厂</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-%E6%80%BB%E7%BB%93"><span class="nav-text">9. 总结</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#10-%E8%A6%81%E7%82%B9"><span class="nav-text">10. 要点</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BA%94%E3%80%81%E5%8D%95%E4%BB%B6%E6%A8%A1%E5%BC%8F%EF%BC%8C%E7%8B%AC%E4%B8%80%E6%97%A0%E4%BA%8C%E7%9A%84%E5%AF%B9%E8%B1%A1"><span class="nav-text">五、单件模式，独一无二的对象</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E5%AE%9A%E4%B9%89%E5%8D%95%E4%BB%B6%E6%A8%A1%E5%BC%8F-%E5%8D%95%E5%AE%9E%E4%BE%8B%E6%A8%A1%E5%BC%8F"><span class="nav-text">1. 定义单件模式(单实例模式)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E5%A4%84%E7%90%86%E5%A4%9A%E7%BA%BF%E7%A8%8B"><span class="nav-text">2. 处理多线程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E6%80%BB%E7%BB%93"><span class="nav-text">3. 总结</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E8%A6%81%E7%82%B9"><span class="nav-text">4. 要点</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%85%AD%E3%80%81%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F%EF%BC%8C%E5%B0%81%E8%A3%85%E8%B0%83%E7%94%A8"><span class="nav-text">六、命令模式，封装调用</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F%E7%AE%80%E5%8D%95%E4%BB%8B%E7%BB%8D%E2%80%93%E9%A4%90%E5%8E%85"><span class="nav-text">1. 命令模式简单介绍–餐厅</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E5%AE%9A%E4%B9%89%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F"><span class="nav-text">2. 定义命令模式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E9%81%A5%E6%8E%A7%E5%99%A8%E4%BE%8B%E5%AD%90"><span class="nav-text">3. 遥控器例子</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F%E7%9A%84%E6%9B%B4%E5%A4%9A%E7%94%A8%E9%80%94%EF%BC%9A%E9%98%9F%E5%88%97%E8%AF%B7%E6%B1%82"><span class="nav-text">4. 命令模式的更多用途：队列请求</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F%E7%9A%84%E6%9B%B4%E5%A4%9A%E7%94%A8%E9%80%94%EF%BC%9A%E6%97%A5%E5%BF%97%E8%AF%B7%E6%B1%82"><span class="nav-text">5. 命令模式的更多用途：日志请求</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-%E6%80%BB%E7%BB%93"><span class="nav-text">6. 总结</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-%E8%A6%81%E7%82%B9"><span class="nav-text">7. 要点</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%83%E3%80%81%E9%80%82%E9%85%8D%E5%99%A8%E4%B8%8E%E5%A4%96%E8%A7%82%E6%A8%A1%E5%BC%8F%EF%BC%8C%E9%9A%8F%E9%81%87%E8%80%8C%E5%AE%89"><span class="nav-text">七、适配器与外观模式，随遇而安</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%80%82%E9%85%8D%E5%99%A8"><span class="nav-text">1. 面向对象适配器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E5%AE%9A%E4%B9%89%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F"><span class="nav-text">2. 定义适配器模式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E7%9C%9F%E5%AE%9E%E4%B8%96%E7%95%8C%E7%9A%84%E9%80%82%E9%85%8D%E5%99%A8"><span class="nav-text">3. 真实世界的适配器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E5%AE%9A%E4%B9%89%E5%A4%96%E8%A7%82%E6%A8%A1%E5%BC%8F"><span class="nav-text">4. 定义外观模式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-%E2%80%9C%E6%9C%80%E5%B0%91%E7%9F%A5%E8%AF%86%E2%80%9D%E5%8E%9F%E5%88%99"><span class="nav-text">5. “最少知识”原则</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-%E4%B8%89%E7%A7%8D%E6%A8%A1%E5%BC%8F%E5%AF%B9%E6%AF%94"><span class="nav-text">6. 三种模式对比</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-%E6%80%BB%E7%BB%93-2"><span class="nav-text">7. 总结</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-%E8%A6%81%E7%82%B9-2"><span class="nav-text">8. 要点</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%85%AB%E3%80%81%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F%EF%BC%8C%E5%B0%81%E8%A3%85%E7%AE%97%E6%B3%95"><span class="nav-text">八、模板方法模式，封装算法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E5%AE%9A%E4%B9%89%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95"><span class="nav-text">1. 定义模板方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E5%AF%B9%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95%E8%BF%9B%E8%A1%8C%E6%8C%82%E9%92%A9"><span class="nav-text">2. 对模板方法进行挂钩</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E5%A5%BD%E8%8E%B1%E5%9D%9E%E5%8E%9F%E5%88%99"><span class="nav-text">3. 好莱坞原则</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E5%A5%BD%E8%8E%B1%E5%9D%9E%E5%8E%9F%E5%88%99%E5%92%8C%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95"><span class="nav-text">4. 好莱坞原则和模板方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-%E4%B8%89%E7%A7%8D%E6%A8%A1%E6%9D%BF%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="nav-text">5. 三种模板的区别</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-java%E4%B8%AD%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="nav-text">6. java中模板方法的使用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-%E7%AD%96%E7%95%A5%E5%92%8C%E6%A8%A1%E6%9D%BF%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="nav-text">7. 策略和模板的区别</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-%E6%80%BB%E7%BB%93"><span class="nav-text">8. 总结</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-%E8%A6%81%E7%82%B9"><span class="nav-text">9. 要点</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B9%9D%E3%80%81%E8%BF%AD%E4%BB%A3%E5%99%A8%E4%B8%8E%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F%EF%BC%8C%E7%AE%A1%E7%90%86%E8%89%AF%E5%A5%BD%E7%9A%84%E9%9B%86%E5%90%88"><span class="nav-text">九、迭代器与组合模式，管理良好的集合</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E5%AE%9A%E4%B9%89%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%A8%A1%E5%BC%8F"><span class="nav-text">1. 定义迭代器模式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E5%8D%95%E4%B8%80%E8%B4%A3%E4%BB%BB"><span class="nav-text">2. 单一责任</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E5%AE%9A%E4%B9%89%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F"><span class="nav-text">3. 定义组合模式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E6%80%BB%E7%BB%93"><span class="nav-text">4. 总结</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-%E8%A6%81%E7%82%B9"><span class="nav-text">5. 要点</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%8D%81%E3%80%81%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F%EF%BC%8C%E4%BA%8B%E7%89%A9%E7%9A%84%E7%8A%B6%E6%80%81"><span class="nav-text">十、状态模式，事物的状态</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E5%AE%9A%E4%B9%89%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F"><span class="nav-text">1. 定义状态模式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E7%B3%96%E6%9E%9C%E4%BE%8B%E5%AD%90"><span class="nav-text">2. 糖果例子</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E6%A8%A1%E5%BC%8F%E5%AF%B9%E6%AF%94"><span class="nav-text">3. 模式对比</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E6%80%BB%E7%BB%93-1"><span class="nav-text">4. 总结</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-%E8%A6%81%E7%82%B9-1"><span class="nav-text">5. 要点</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%8D%81%E4%B8%80%E3%80%81%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%EF%BC%8C%E6%8E%A7%E5%88%B6%E5%AF%B9%E8%B1%A1%E8%AE%BF%E9%97%AE"><span class="nav-text">十一、代理模式，控制对象访问</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E8%BF%9C%E7%A8%8B%E4%BB%A3%E7%90%86%E8%A7%92%E8%89%B2"><span class="nav-text">1. 远程代理角色</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E5%AE%9A%E4%B9%89%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F"><span class="nav-text">2. 定义代理模式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-java-RMI-%E8%BF%9C%E7%A8%8B%E4%BB%A3%E7%90%86"><span class="nav-text">3. java RMI(远程代理)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E8%99%9A%E6%8B%9F%E4%BB%A3%E7%90%86-Virtual-Proxy"><span class="nav-text">4. 虚拟代理(Virtual Proxy)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-%E4%BF%9D%E6%8A%A4%E4%BB%A3%E7%90%86"><span class="nav-text">5. 保护代理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-%E6%A8%A1%E5%BC%8F%E5%AF%B9%E6%AF%94"><span class="nav-text">6. 模式对比</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-%E5%85%B6%E4%BB%96%E4%BB%A3%E7%90%86"><span class="nav-text">7. 其他代理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-%E6%80%BB%E7%BB%93-1"><span class="nav-text">8. 总结</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-%E8%A6%81%E7%82%B9-1"><span class="nav-text">9. 要点</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%8D%81%E4%BA%8C%E3%80%81%E5%A4%8D%E5%90%88%E6%A8%A1%E5%BC%8F%EF%BC%8C%E6%A8%A1%E5%BC%8F%E4%B8%AD%E7%9A%84%E6%A8%A1%E5%BC%8F"><span class="nav-text">十二、复合模式，模式中的模式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E5%AE%9A%E4%B9%89%E5%A4%8D%E5%90%88%E6%A8%A1%E5%BC%8F"><span class="nav-text">1. 定义复合模式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E9%B8%AD%E5%AD%90%E4%BE%8B%E5%AD%90"><span class="nav-text">2. 鸭子例子</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E5%A4%8D%E5%90%88%E6%A8%A1%E5%BC%8F%E4%B9%8B%E7%8E%8B-MVC"><span class="nav-text">3. 复合模式之王-MVC</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E4%B8%80%E4%B8%AA%E6%8E%A7%E5%88%B6%E8%8A%82%E6%8B%8D%E7%9A%84%E4%BE%8B%E5%AD%90"><span class="nav-text">4. 一个控制节拍的例子</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-%E6%80%BB%E7%BB%93"><span class="nav-text">5. 总结</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-%E8%A6%81%E7%82%B9"><span class="nav-text">6. 要点</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%8D%81%E4%B8%89%E3%80%81%E4%B8%8E%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E7%9B%B8%E5%A4%84%EF%BC%8C%E7%9C%9F%E5%AE%9E%E4%B8%96%E7%95%8C%E4%B8%AD%E7%9A%84%E6%A8%A1%E5%BC%8F"><span class="nav-text">十三、与设计模式相处，真实世界中的模式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E5%AE%9A%E4%B9%89%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F"><span class="nav-text">1. 定义设计模式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E6%A8%A1%E5%BC%8F%E6%80%BB%E7%BB%93"><span class="nav-text">2. 模式总结</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E6%A8%A1%E5%BC%8F%E5%88%86%E7%B1%BB"><span class="nav-text">3. 模式分类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E7%94%A8%E6%A8%A1%E5%BC%8F%E6%80%9D%E8%80%83"><span class="nav-text">4. 用模式思考</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-%E5%85%B6%E4%BB%96%E6%A8%A1%E5%BC%8F"><span class="nav-text">5. 其他模式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-%E5%8F%8D%E6%A8%A1%E5%BC%8F"><span class="nav-text">6. 反模式</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%8D%81%E5%9B%9B%E3%80%81%E5%89%A9%E4%B8%8B%E7%9A%84%E6%A8%A1%E5%BC%8F"><span class="nav-text">十四、剩下的模式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E6%A1%A5%E6%8E%A5%E6%A8%A1%E5%BC%8F-Bridge-Pattern"><span class="nav-text">1. 桥接模式(Bridge Pattern)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E7%94%9F%E6%88%90%E5%99%A8%E6%A8%A1%E5%BC%8F-Builder-Pattern"><span class="nav-text">2. 生成器模式(Builder Pattern)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E8%B4%A3%E4%BB%BB%E9%93%BE%E6%A8%A1%E5%BC%8F-Chain-of-Responsibility-Pattern"><span class="nav-text">3. 责任链模式(Chain of Responsibility Pattern)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E8%9D%87%E9%87%8F%E6%A8%A1%E5%BC%8F-Flyweight-Pattern"><span class="nav-text">4. 蝇量模式(Flyweight Pattern)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-%E8%A7%A3%E9%87%8A%E5%99%A8%E6%A8%A1%E5%BC%8F-Interpreter-Pattern"><span class="nav-text">5. 解释器模式(Interpreter Pattern)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-%E4%B8%AD%E4%BB%8B%E8%80%85%E6%A8%A1%E5%BC%8F-Mediator-Pattern"><span class="nav-text">6. 中介者模式(Mediator Pattern)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-%E5%A4%87%E5%BF%98%E5%BD%95%E6%A8%A1%E5%BC%8F-Mementor-Pattern"><span class="nav-text">7. 备忘录模式(Mementor Pattern)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F-Prototype-Pattern"><span class="nav-text">8. 原型模式(Prototype Pattern)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-%E8%AE%BF%E9%97%AE%E8%80%85%E6%A8%A1%E5%BC%8F-Visitor-Pattern"><span class="nav-text">9. 访问者模式(Visitor Pattern)</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="不知自己不知"
      src="/images/head.jpeg">
  <p class="site-author-name" itemprop="name">不知自己不知</p>
  <div class="site-description" itemprop="description">o.O</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">70</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">13</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">59</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
    <!--
    <div id="music163player">
      <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=110 src="//music.163.com/outchain/player?type=0&id=5445280661&auto=0&height=90"></iframe>
       </div>
    -->
  </aside>
  
  
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">不知自己不知</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
      <span class="post-meta-item-text">站点总字数：</span>
    <span title="站点总字数">412k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">6:14</span>
</div>

        
<div class="busuanzi-count">
  <script data-pjax async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  
  <script color='255,255,255' opacity='1' zIndex='-1' count='100' src="/lib/canvas-nest/canvas-nest.min.js"></script>
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/pjax/pjax.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>

<script src="/js/bookmark.js"></script>

  <script>
var pjax = new Pjax({
  selectors: [
    'head title',
    '#page-configurations',
    '.content-wrap',
    '.post-toc-wrap',
    '.languages',
    '#pjax'
  ],
  switches: {
    '.post-toc-wrap': Pjax.switches.innerHTML
  },
  analytics: false,
  cacheBust: false,
  scrollTo : !CONFIG.bookmark.enable
});

window.addEventListener('pjax:success', () => {
  document.querySelectorAll('script[data-pjax], script#page-configurations, #pjax script').forEach(element => {
    var code = element.text || element.textContent || element.innerHTML || '';
    var parent = element.parentNode;
    parent.removeChild(element);
    var script = document.createElement('script');
    if (element.id) {
      script.id = element.id;
    }
    if (element.className) {
      script.className = element.className;
    }
    if (element.type) {
      script.type = element.type;
    }
    if (element.src) {
      script.src = element.src;
      // Force synchronous loading of peripheral JS.
      script.async = false;
    }
    if (element.dataset.pjax !== undefined) {
      script.dataset.pjax = '';
    }
    if (code !== '') {
      script.appendChild(document.createTextNode(code));
    }
    parent.appendChild(script);
  });
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.subMenu)
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  NexT.utils.updateSidebarPosition();
});
</script>




  




  
<script src="/js/local-search.js"></script>













    <div id="pjax">
  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : true,
      appId      : 'Dv4yd2JUuvVhLBe640B6m1jw-gzGzoHsz',
      appKey     : 'sNdrMuVcw6jJzlz0HpXBNhdB',
      placeholder: "来交流交流吧~",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

    </div>
  
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/miku.model.json"},"display":{"position":"right","width":300,"height":600},"mobile":{"show":true},"react":{"opacity":1},"log":false});</script></body>
</html>



